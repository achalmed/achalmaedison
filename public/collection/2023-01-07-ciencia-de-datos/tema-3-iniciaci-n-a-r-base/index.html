<!DOCTYPE html>
<html lang="es" dir="ltr"><head>
  
                           
     


<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.104.3" />
<title>Tema 3: Iniciación a R-base | Edison Achalma, Econ</title>


<meta property="twitter:site" content="@achalmaedison">
<meta property="twitter:creator" content="@achalmaedison">







  
    
  
<meta name="description" content="Personal website and portfolio of Dr. Edison Achalma.">


<meta property="og:site_name" content="Edison Achalma, Econ">
<meta property="og:title" content="Tema 3: Iniciación a R-base | Edison Achalma, Econ">
<meta property="og:description" content="Personal website and portfolio of Dr. Edison Achalma." />
<meta property="og:type" content="page" />
<meta property="og:url" content="https://achalmaedison.netlify.app/collection/2023-01-07-ciencia-de-datos/tema-3-iniciaci-n-a-r-base/" />
<meta property="og:locale" content="es">




    
        <meta property="og:image" content="https://achalmaedison.netlify.app/img/papillons.jpg" >
        <meta property="twitter:card" content="summary_large_image">
        <meta name="twitter:image" content="https://achalmaedison.netlify.app/img/papillons.jpg" >
    
  <meta itemprop="name" content="Tema 3: Iniciación a R-base">
<meta itemprop="description" content="El objetivo de este tema es proporcionar una introducción a R para personas que no han tenido contacto previo con el programa. Se presentan algunos de los rudimentos del lenguaje de programación R. Conocer en detalle el lenguaje R es complicado, hay muchas cosas, pero conociendo unas cuantas de ellas puede ser suficiente para hacer análisis de datos complejos.
Se presentan conceptos básicos y, por tanto necesarios, como distintos tipos y estructuras de datos, asignación, funciones, operadores lógicos, subsetting etc… PERO, recuerda que en el curso vamos a enfatizar otra forma de trabajar con R."><meta itemprop="datePublished" content="2023-01-07T00:00:00+00:00" />
<meta itemprop="dateModified" content="2023-01-07T00:00:00+00:00" />
<meta itemprop="wordCount" content="13245">
<meta itemprop="keywords" content="" />
  
  
  <!--[if IE]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  <link rel="shortcut icon" href="/img/favicon.ico" type="image/x-icon">
  <link rel="icon" href="/img/favicon.ico" type="image/x-icon">
  
  
  <link rel="stylesheet" href="/style.main.min.508aa34bb4fa7ebfddd6892a4ec251e1ce46ad0e0c5be6380abc84336f01b14e.css" integrity="sha256-UIqjS7T6fr/d1okqTsJR4c5GrQ4MW&#43;Y4CryEM28BsU4=" media="screen">
  
  
  <script src="/panelset.min.ed1ac24b6e16f4e2481e3d1d098ae66f5bc77438aef619e6e266d8ac5b00dc72.js" type="text/javascript"></script>
  
  
  <script src="/main.min.bd942b3ee0207252d2636d656fcdf94a2442e99ac52f2b4145605a78e6b0a6d4.js" type="text/javascript"></script>
</head>
<body>
      <div class="grid-container single-series">
<header class="site-header pt4 pb2 mb4 bb b--transparent ph5 headroom z-max" role="banner">
  <nav class="site-nav db dt-l w-100" role="navigation">
    <a class="site-brand db dtc-l v-mid link no-underline w-100 w-33-l tc tl-l" href="https://achalmaedison.netlify.app/" title="Home">
      <img src="/img/blogophonic-mark-dark.png" class="dib db-l h2 w-auto" alt="Edison Achalma, Econ">
    </a>
    <div class="site-links db dtc-l v-mid w-100 w-47-l tc tr-l mt3 mt0-l ttu tracked">
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 " href="/about/" title="About Blogophonic">Sobre Mí</a>
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 " href="/blog/" title="Blog">Blog</a>
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 " href="/project/" title="Project Portfolio">Proyectos</a>
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 " href="/talk/" title="Talks">Talks</a>
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 active" href="/collection/" title="A collection">Cursos</a>
      
        
        
        
      <a class="link f6 f5-l dib pv1 ph2 " href="/elements/" title="Element Page">Elementos</a>
      
      
    </div>
  </nav>
</header>


<main class="page-main ph4 pt4" role="main">
  <section class="page-content mw7 center">
    <article class="post-content pa0 pr3-l">
      <header class="post-header">
        <h4 class="breadcrumb pb5">

  
    
      
  
    
      
  
    
      
  

    
    
      <a href="/collection/">Create a Collection</a>
    
  

    
    
      <a href="/collection/2023-01-07-ciencia-de-datos/">Ciencia de datos</a>
    
  

    
    
      Tema 3: Iniciación a R-base
    
  

</h4>




        
        <h1 class="f1 lh-solid measure-narrow mb3 fw4">Tema 3: Iniciación a R-base</h1>
        
        
        
        
        
      
        
      </header>
      <section class="post-body pt5 pb4">
        <script src="https://achalmaedison.netlify.app/collection/2023-01-07-ciencia-de-datos/tema-3-iniciaci-n-a-r-base/index_files/clipboard/clipboard.min.js"></script>
<link href="https://achalmaedison.netlify.app/collection/2023-01-07-ciencia-de-datos/tema-3-iniciaci-n-a-r-base/index_files/primer-tooltips/build.css" rel="stylesheet" />
<link href="https://achalmaedison.netlify.app/collection/2023-01-07-ciencia-de-datos/tema-3-iniciaci-n-a-r-base/index_files/klippy/css/klippy.min.css" rel="stylesheet" />
<script src="https://achalmaedison.netlify.app/collection/2023-01-07-ciencia-de-datos/tema-3-iniciaci-n-a-r-base/index_files/klippy/js/klippy.min.js"></script>
<script>
  addClassKlippyTo("pre.r, pre.markdown");
  addKlippy('right', 'top', 'auto', '1', 'Copy code', 'Copied!');
</script>
<hr>
<br>
<p>El objetivo de este tema es proporcionar una introducción a R para personas que no han tenido contacto previo con el programa. Se presentan algunos de los rudimentos del lenguaje de programación R. Conocer en detalle el lenguaje R es complicado, hay muchas cosas, pero conociendo unas cuantas de ellas puede ser suficiente para hacer análisis de datos complejos.</p>
<p>Se presentan conceptos básicos y, por tanto necesarios, como distintos tipos y estructuras de datos, asignación, funciones, operadores lógicos, subsetting etc… PERO, recuerda que en el curso vamos a enfatizar otra forma de trabajar con R. En el curso priorizamos trabajar con R usando principalmente los paquetes asociados al tidyverse; es decir, vamos a usar R à la tidyverse. Entonces, ¿por qué un tutorial sobre R-base? La razón es sencilla, los paquetes del tidyverse no son otro lenguaje, necesitan a R para funcionar, no tienen sentido fuera de él, así que cuanto mas sepas de R, de R-base, mejor. Al menos hay un mínimo de elementos de R-base que se necesita entender. En el tutorial intentaré centrarme en lo que es más necesario.</p>
<p>Este tutorial/tema no lo vamos a ver en clase en detalle. En clase empezaremos directamente a trabajar con ejemplos y casos con datos reales y con <code>data.frames</code>. ¿Entonces para qué este tema/tutorial? Pues para que sirva un poco de referencia, poco a poco iremos viendo trocitos de este tema; además tenéis en Internet excelentes recursos para aprender a programar con R.</p>
<p>En las respuestas a este tweet puedes ver distintas opiniones sobre si es mejor comenzar a aprender R con el tidyverse o con R-base:</p>
<blockquote class="twitter-tweet" align="center" data-width="400" data-lang="en" data-dnt="true" data-theme="light"><p lang="en" dir="ltr">Roommates are doing their <a href="https://twitter.com/hashtag/rstats?src=hash&amp;ref_src=twsrc%5Etfw">#rstats</a> homework and their professor has forbidden the use of *any* packages because they &quot;have to learn the fundamentals.&quot; Is this a thing? I&#39;m frustrated on their behalf but open to opinions.</p>&mdash; Kaija Gahm (@kaija_bean) <a href="https://twitter.com/kaija_bean/status/1217293396706054145?ref_src=twsrc%5Etfw">January 15, 2020</a></blockquote>
<p>Supongo que ya tenéis instalado R y RStudio en vuestro ordenador, así que intenta correr/ejecutar en tu ordenador las instrucciones de R que vayan apareciendo en el tutorial.</p>




<h1 id="1-ideas-básicas">1. Ideas básicas
  <a href="#1-ideas-b%c3%a1sicas"></a>
</h1>




<h2 id="operaciones-matemáticas-básicas">Operaciones matemáticas básicas
  <a href="#operaciones-matem%c3%a1ticas-b%c3%a1sicas"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h2>
<p>R puede utilizarse como calculadora.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#998;font-style:italic"># operaciones básicas con R</span>
</span></span><span style="display:flex;"><span><span style="color:#099">2</span> <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">2</span>    
</span></span><span style="display:flex;"><span><span style="color:#099">2</span> <span style="color:#000;font-weight:bold">-</span> <span style="color:#099">2</span>    
</span></span><span style="display:flex;"><span><span style="color:#099">2</span> <span style="color:#000;font-weight:bold">*</span> <span style="color:#099">2</span>    
</span></span><span style="display:flex;"><span><span style="color:#099">2</span> <span style="color:#000;font-weight:bold">/</span> <span style="color:#099">2</span> 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"># Potenciación (se puede hacer con el operador ^ o con **)</span>
</span></span><span style="display:flex;"><span><span style="color:#099">3</span>^2    
</span></span><span style="display:flex;"><span><span style="color:#099">3</span><span style="color:#000;font-weight:bold">**</span><span style="color:#099">2</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"># división entera y módulo</span>
</span></span><span style="display:flex;"><span><span style="color:#099">11</span> <span style="color:#000;font-weight:bold">%/%</span> <span style="color:#099">5</span>    <span style="color:#998;font-style:italic"># división entera </span>
</span></span><span style="display:flex;"><span><span style="color:#099">11</span> <span style="color:#000;font-weight:bold">%%</span> <span style="color:#099">5</span>     <span style="color:#998;font-style:italic"># módulo (resto de la división entera)</span>
</span></span></code></pre></div><br>




<h4 id="hay-que-poner-espacios-entre-los-elementos-de-una-expresión">¿Hay que poner espacios entre los elementos de una expresión?
  <a href="#hay-que-poner-espacios-entre-los-elementos-de-una-expresi%c3%b3n"></a>
</h4>
<p>Como ves, no importa si pones o no espacios entre los elementos de una expresión. De todas formas casi siempre es mejor separar los diferentes elementos de una linea de código: usar espacios hace el código más legible. Para convencerte de que uses espacios: ¿que crees que se se lee mejor, esto, <em>oquizascreesqueseleemejorestootro</em>?</p>
<br>




<h4 id="orden-de-precedencia-de-las-operaciones">Orden de precedencia de las operaciones
  <a href="#orden-de-precedencia-de-las-operaciones"></a>
</h4>
<p>Lógicamente se pueden combinar varias operaciones. Ten cuidado siempre con el orden de precedencia que da R a las operaciones. El orden es el siguiente: paréntesis, exponentes, multiplicación, división, suma y resta. <strong>Ante la duda usa los paréntesis</strong>.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#099">6</span> <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">2</span> <span style="color:#000;font-weight:bold">*</span> <span style="color:#099">5</span>   
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] 16</span>
</span></span><span style="display:flex;"><span>(<span style="color:#099">6</span> <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">2</span>) <span style="color:#000;font-weight:bold">*</span> <span style="color:#099">5</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] 40</span>
</span></span></code></pre></div><br>




<h4 id="expresiones-de-varias-lineas">expresiones de varias lineas
  <a href="#expresiones-de-varias-lineas"></a>
</h4>
<p>De momento es mejor no hacerlo, pero puedes repartir tus expresiones en varias lineas:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#099">2</span>  <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">2</span> <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">2</span> <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">2</span> <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">2</span> <span style="color:#000;font-weight:bold">+</span>
</span></span><span style="display:flex;"><span><span style="color:#099">10</span> <span style="color:#000;font-weight:bold">+</span> 
</span></span><span style="display:flex;"><span><span style="color:#099">30</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] 50</span>
</span></span></code></pre></div><p>Más adelante, por ejemplo cuando hagamos gráficos, sí que lo haremos para ganar en claridad en el código. LLegará.</p>
<br>




<h2 id="asignación-creación-de-objetos">Asignación (“creación de objetos”)
  <a href="#asignaci%c3%b3n-creaci%c3%b3n-de-objetos"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h2>
<p>En la sección anterior hicimos que R hiciera unos cálculos. Muy bien, pero lo normal en un análisis con datos es que, para alcanzar un resultado final, tengamos que hacer cálculos intermedios e ir combinándolos para llegar al resultado final. Los cálculos que hemos hecho con R en la sección anterior se han perdido; dicho de otra manera, ahora mismo no podemos recuperarlos.</p>
<p>Para poder recuperar o reusar algún calculo intermedio hecho con R, tenemos que “asignar” un nombre a nuestros cálculos. Repito, para poder recuperar/reusar un valor, este ha de tener asociado/asignado un nombre.</p>
<p>Dicho de otra manera, para poder reusar un resultado o valor intermedio, tenemos que crear un objeto que contendrá el valor que hemos calculado, pero para ello tenemos que poner o asignar un nombre a ese objeto<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup>.</p>
<p>En R, para <strong>asignar un nombre a un valor</strong>, y así crear un objeto, se usa el operador <strong><code>&lt;-</code></strong><sup id="fnref:2"><a href="#fn:2" class="footnote-ref" role="doc-noteref">2</a></sup>. Veámoslo:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>aa <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#099">2</span> <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">2</span>
</span></span></code></pre></div><p>Fíjate que parece que R no ha hecho nada ya que no nos muestra el resultado de la operación en la consola. Ahora lo que ha hecho es realizar la operación obteniéndose un resultado o valor de <code>4</code> (dos mas dos son 4), pero en lugar de mostrarnos/devolvernos el valor, lo que ha hecho es “almacenar” el valor 4 en el objeto <code>aa</code>.</p>
<p>En vuestra cabeza una expresión de asignación, por ejemplo <code>aa &lt;- 44</code>, debe sonar como <code>aa toma el valor 44</code>.</p>
<p>Podemos ver el objeto <code>aa</code>en el panel superior-derecha de RStudio, concretamente en la pestaña “Environment”. Ahora el entorno de R, R, tiene un objeto almacenado en su memoria, un objeto que se llama “aa” y cuyo valor es 4.</p>
<p>Veámoslo: si ahora ejecutamos <code>aa</code>, R nos devolverá el valor 4. Podemos pensar que <code>aa</code> es un objeto, donde se almacena el valor 4.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>aa
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] 4</span>
</span></span></code></pre></div><p>Ahora podemos usar el objeto <code>aa</code> para continuar o hacer más cálculos. Por ejemplo:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>aa <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] 5</span>
</span></span></code></pre></div><p>El nombre <code>aa</code> está asociado al valor <code>4</code>, así que cuando usemos <code>aa</code> en una nueva instrucción, R
usará el valor 4. Evidentemente podemos cambiar el valor del objeto <code>aa</code>. Por ejemplo:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>aa <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#099">10</span>
</span></span></code></pre></div><p>Ahora, si llamamos a <code>aa</code> nos devuelve el valor 10.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>aa
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] 10</span>
</span></span></code></pre></div><p>¿Qué hacen las siguientes lineas de código? Puedes pensarlo, pero lo mejor es que ejecutes el código en tu ordenador.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>aa <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#099">2</span> <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">2</span>
</span></span><span style="display:flex;"><span>bb <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#099">5</span> <span style="color:#000;font-weight:bold">+</span> aa
</span></span><span style="display:flex;"><span>cc <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#099">1</span> <span style="color:#000;font-weight:bold">+</span> aa <span style="color:#000;font-weight:bold">*</span> <span style="color:#099">2</span>
</span></span><span style="display:flex;"><span>dd <span style="color:#000;font-weight:bold">&lt;-</span> bb
</span></span></code></pre></div><p>Fijaros que ahora en el entorno o <em>environment</em> de R tendremos 4 objetos: aa, bb, cc, dd.</p>
<br>




<h4 id="global-environment-primera-referencia-al">Global environment (primera referencia al)
  <a href="#global-environment-primera-referencia-al"></a>
</h4>
<p>Cada vez que asignas un nombre a un valor, R crea un nuevo objeto en el <code>Global environment</code>. Estos objetos existirán hasta que cierres tu sesión en R, después desaparecerán, a no ser que guardes los objetos en disco en un fichero. Podemos ver los objetos que hay en el Global environment pinchando en la pestaña “Environment” del panel superior-izquierdo de RStudio. También podemos hacerlo con la función <code>ls()</code>. Ejecuta las siguientes instrucciones y observa que ocurre en el Global environment.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#900;font-weight:bold">ls</span>()              <span style="color:#998;font-style:italic">#- muestra los objetos en el Global env. Hace lo mismo que objects()</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] &#34;aa&#34; &#34;bb&#34; &#34;cc&#34; &#34;dd&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">rm</span>(cc)            <span style="color:#998;font-style:italic">#- borra/elimina el objeto cc del Global env.</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">rm</span>(list <span style="color:#000;font-weight:bold">=</span> <span style="color:#900;font-weight:bold">ls</span>())   <span style="color:#998;font-style:italic">#- borra todos los objetos del Global env.</span>
</span></span></code></pre></div><br>
<p>Recuerda que en R, la forma genérica de una operación de asignación, o de “creación de objetos”, es: <code>nombre_del_objeto &lt;- valor</code>, por ejemplo <code>aa &lt;- 2 + 2</code>, y que para poder recuperar/reusar un valor ha de tener asociado/asignado un nombre.</p>
<br>




<h4 id="puedo-usar-el-nombre-que-quiera-para-mis-objetos">¿Puedo usar el nombre que quiera para mis objetos?
  <a href="#puedo-usar-el-nombre-que-quiera-para-mis-objetos"></a>
</h4>
<p>No del todo. Para que un nombre sea sintácticamente válido en R sólo puede contener caracteres alfanuméricos (letras y números), puntos (<strong><code>.</code></strong>) y guiones bajos (<strong><code>_</code></strong>).</p>
<p>Además:</p>
<ul>
<li>
<p>un nombre NO puede empezar por un número</p>
</li>
<li>
<p>un nombre NO puede empezar por <strong><code>_</code></strong></p>
</li>
<li>
<p>si el nombre empieza por <code>.</code> , el punto NO puede ir seguido de un número</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#998;font-style:italic"># nombres válidos</span>
</span></span><span style="display:flex;"><span>pepe <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#099">4</span> 
</span></span><span style="display:flex;"><span>pepe_2 <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#099">4</span>
</span></span><span style="display:flex;"><span>pepe_2.3 <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#099">22</span>
</span></span><span style="display:flex;"><span>.hola <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#099">7</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"># nombres no válidos</span>
</span></span><span style="display:flex;"><span><span style="color:#099">4</span>pepe <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#099">33</span>
</span></span><span style="display:flex;"><span>_hola <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#099">66</span>
</span></span><span style="display:flex;"><span><span style="color:#099">.2</span>xx  <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#099">88</span>
</span></span></code></pre></div><p>Lo normal es usar nombres simples y, si puede ser, explicativos de la naturaleza del valor almacenado en el objeto.</p>
<p>R distingue entre mayúsculas y minúsculas así que puede existir un objeto con nombre <code>Ariadna</code> y otro con nombre <code>ariadna</code>.</p>
<p>Como en todos los lenguajes de programación, R tiene una serie de nombres reservados, ya asignados, y que por tanto no se pueden usar para nombrar a los objetos que nosotros creemos. Lógicamente están prohibidos porque R los usa internamente. Estos nombres prohibidos son:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>if  else repeat  while  for in next break
</span></span><span style="display:flex;"><span>function
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">TRUE</span> <span style="color:#000;font-weight:bold">FALSE</span> 
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">NULL</span> <span style="color:#000;font-weight:bold">Inf</span> <span style="color:#000;font-weight:bold">NaN</span> 
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">NA</span> <span style="color:#000;font-weight:bold">NA_integer_</span> <span style="color:#000;font-weight:bold">NA_real_</span> <span style="color:#000;font-weight:bold">NA_complex_</span> <span style="color:#000;font-weight:bold">NA_character_</span>
</span></span></code></pre></div><br>




<h2 id="tipos-de-datos">Tipos de datos
  <a href="#tipos-de-datos"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h2>
<p>Ya sabemos que R nos va a ayudar a manejar/analizar datos. Bien, pero ¿qué tipos de datos entiende R?</p>
<p>Los principales tipos son 3: numéricos, de texto y lógicos; en realidad 4 porque R diferencia los datos númericos en doubles e integers<sup id="fnref:3"><a href="#fn:3" class="footnote-ref" role="doc-noteref">3</a></sup>
Cada dato o valor es de un tipo. El tipo de un valor determina la forma de almacenamiento y las operaciones que se pueden hacer con él.</p>
<p>R puede manejar, tiene, 5 tipos de datos:</p>
<ul>
<li>
<p>Caracteres (texto): Pepe, hola, Madrid</p>
</li>
<li>
<p>Doubles: 2,35 , 77,00 , -5,6</p>
</li>
<li>
<p>Enteros: 1, -44</p>
</li>
<li>
<p>Lógicos: TRUE, FALSE (En operaciones aritméticas toman valores 1 y 0)</p>
</li>
<li>
<p>Complejos: 3+2i</p>
</li>
</ul>
<p>Ademas de estos 5, existe un sexto tipo: <code>raw</code>, que no vamos a utilizar.</p>
<p>Por ejemplo:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>aa <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#d14">&#34;La calle en la que vivo es&#34;</span>    <span style="color:#998;font-style:italic">#- texto</span>
</span></span><span style="display:flex;"><span>bb <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#099">4L</span>                              <span style="color:#998;font-style:italic">#- número entero</span>
</span></span><span style="display:flex;"><span>cc <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#099">4.3</span>                             <span style="color:#998;font-style:italic">#- número decimal</span>
</span></span><span style="display:flex;"><span>dd <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#000;font-weight:bold">TRUE</span>                            <span style="color:#998;font-style:italic">#- logical</span>
</span></span></code></pre></div><p>Normalmente sabremos de que tipo(texto, entero, …) es cada objeto, pero conviene saber con certeza de que tipo es cada objeto. Por ejemplo, los objetos creados en el chunk anterior, ¿de que tipo son? Nos lo imaginamos, pero para confirmarlo podemos usar la función <code>typeof()</code></p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#900;font-weight:bold">typeof</span>(aa)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] &#34;character&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">typeof</span>(bb)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] &#34;integer&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">typeof</span>(cc)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] &#34;double&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">typeof</span>(dd)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] &#34;logical&#34;</span>
</span></span></code></pre></div><br>
<p>En realidad los 3 tipos fundamentales de datos/valores que usaremos son:</p>
<ul>
<li>
<p>“numeric”: Numéricos (números enteros y reales)</p>
</li>
<li>
<p>“character”: Texto (secuencias o cadenas de caracteres)</p>
</li>
<li>
<p>“logical”: Lógicos o booleanos (TRUE o FALSE, que en operaciones aritméticas toman valores 1 y 0)</p>
</li>
</ul>
<p>Además, hay 4 valores especiales: <code>NULL</code>, <code>NA</code>, <code>NaN</code>, e infinito</p>
<p>Los <code>NA</code>’s serán más adelante importantes y en cierta forma hay que tener cuidado con ellos, siempre habrá que chequear si nuestros datos contienen <code>NA</code>’s. NA representa una característica que existe pero de la cual no sabemos su valor, pero ese valor existe. Por ejemplo, imagina que el siguiente vector representa la altura en centímetros de un grupo de personas : <code>c(182, 187, 159, NA, 166)</code>. El vector tiene 5 elementos, pero el cuarto elemento es un NA, lo que indica que no sabemos la altura del cuarto individuo. Imagina que queremos calcular la altura media, utilizaremos la función <code>mean()</code>. Fíjate que ocurre:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>aa <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#900;font-weight:bold">c</span>(<span style="color:#099">182</span>, <span style="color:#099">178</span>, <span style="color:#099">172</span>, <span style="color:#000;font-weight:bold">NA</span>, <span style="color:#099">168</span>)
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">mean</span>(aa)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] NA</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">mean</span>(aa, na.rm <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">TRUE</span>)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] 175</span>
</span></span></code></pre></div><p>Como ves, cuando se hace un calculo estadístico con un objeto que contiene NA’s, el resultado es NA; es decir, los NA’s se propagan<sup id="fnref:4"><a href="#fn:4" class="footnote-ref" role="doc-noteref">4</a></sup>. Si quieres que esto no ocurra cuando haces cálculos estadísticos, has utilizar dentro de las funciones la opción <code>na.rm = TRUE</code> que lo que hace es excluir los NA’s antes de hacer los cálculos.</p>
<br>




<h2 id="operaciones-con-números">Operaciones con números
  <a href="#operaciones-con-n%c3%bameros"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h2>
<p>Con datos o <strong>variables numéricas</strong> ya hemos visto que se pueden hacer operaciones aritméticas (suma, resta etc…), pero con números se pueden hacer también <strong>comparaciones</strong>.</p>
<p>Por ejemplo:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#099">2</span> <span style="color:#000;font-weight:bold">&lt;</span> <span style="color:#099">4</span>    <span style="color:#998;font-style:italic"># MENOR que: esta expresión chequea si 2 es MENOR que cuatro. Como es cierto, nos devuelve un TRUE</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] TRUE</span>
</span></span><span style="display:flex;"><span><span style="color:#099">2</span> <span style="color:#000;font-weight:bold">&gt;</span> <span style="color:#099">4</span>    <span style="color:#998;font-style:italic"># MAYOR que: esta expresión chequea si 2 es MAYOR que cuatro. Como es cierto, nos devuelve un TRUE</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] FALSE</span>
</span></span><span style="display:flex;"><span><span style="color:#099">5</span> <span style="color:#000;font-weight:bold">&gt;=</span> <span style="color:#099">7</span>   <span style="color:#998;font-style:italic"># MAYOR o IGUAL que.</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] FALSE</span>
</span></span><span style="display:flex;"><span><span style="color:#099">8</span> <span style="color:#000;font-weight:bold">&lt;=</span> <span style="color:#099">8</span>   <span style="color:#998;font-style:italic"># MENOR o IGUAL que.</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] TRUE</span>
</span></span><span style="display:flex;"><span><span style="color:#099">9</span> <span style="color:#000;font-weight:bold">==</span> <span style="color:#099">7</span>   <span style="color:#998;font-style:italic"># IGUAL a: como 9 no es igual a 7, nos devolverá un FALSE</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] FALSE</span>
</span></span><span style="display:flex;"><span><span style="color:#099">2</span> <span style="color:#000;font-weight:bold">==</span> <span style="color:#099">2</span>   <span style="color:#998;font-style:italic"># IGUAL a: como 2 es igual a 2, nos devuelve TRUE</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] TRUE</span>
</span></span><span style="display:flex;"><span><span style="color:#099">2</span> <span style="color:#000;font-weight:bold">!=</span> <span style="color:#099">4</span>   <span style="color:#998;font-style:italic"># NO IGUAL: como 2 no es igual a 4 nos devuelve TRUE</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] TRUE</span>
</span></span><span style="display:flex;"><span><span style="color:#099">5</span> <span style="color:#000;font-weight:bold">!=</span> <span style="color:#099">5</span>   <span style="color:#998;font-style:italic"># NO IGUAL: como 5 es igual a 5, nos devuelve FALSE </span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] FALSE</span>
</span></span></code></pre></div><p>Fíjate que estas expresiones de comparación al ser ejecutadas devuelven un “boolean”: el resultado de la comparación solo puede ser TRUE o FALSE si la afirmación es cierta o, por el contrario no es cierta. Por ejemplo si ejecutas <code>5 &lt; 2</code> el resultado sera <code>FALSE</code> porque 5 no es menor que 2.</p>
<p>Que ¿para qué necesitamos estos operadores? Para muchas cosas, por ejemplo para ver que valores de una variable están por encima de la media.</p>
<p>Fíjate que el operador para chequear la igualdad de dos valores no es <code>=</code>, que es lo que habitualmente usamos en matemáticas para expresar igualdad. En R la igualdad se expresa/chequea con el doble igual: <code>==</code>.</p>
<p>Recuerda que el signo <code>=</code> se puede usar para hacer una asignación, aunque en R es más habitual usar el <code>=</code> dentro de las funciones para asignar un valor al argumento de una función, y se suele usar <code>&lt;-</code> como símbolo de asignación.</p>
<br>




<h2 id="operaciones-con-texto">Operaciones con texto
  <a href="#operaciones-con-texto"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h2>
<p>Hay muchas, pero por ejemplo, no podemos sumar 2 strings o 2 cadenas de texto, pero si que se pueden pegar o concatenar. Por ejemplo con la función <code>paste()</code>.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>aa <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#d14">&#34;mi nombre es&#34;</span>
</span></span><span style="display:flex;"><span>bb <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#d14">&#34;pedro&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">paste</span>(aa, bb)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] &#34;mi nombre es pedro&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">paste</span>(aa, bb, sep <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34; ... &#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] &#34;mi nombre es ... pedro&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"># Prueba tú mismo que hace la función paste0()</span>
</span></span></code></pre></div><p>Veamos algunas otras “operaciones” que se pueden hacer con variables de texto:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#900;font-weight:bold">toupper</span>(aa)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] &#34;MI NOMBRE ES&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">tolower</span>(aa)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] &#34;mi nombre es&#34;</span>
</span></span><span style="display:flex;"><span>stringr<span style="color:#000;font-weight:bold">::</span><span style="color:#900;font-weight:bold">str_to_sentence</span>(aa)   <span style="color:#998;font-style:italic">#- stringr es un pkg del tidyverse</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] &#34;Mi nombre es&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">nchar</span>(bb)                      <span style="color:#998;font-style:italic">#- nchar() nos devuelve el número de caracteres de un string</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] 5</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">substring</span>(bb, <span style="color:#099">2</span>, <span style="color:#900;font-weight:bold">nchar</span>(bb))    <span style="color:#998;font-style:italic">#- substring() extrae caracteres de un string</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] &#34;edro&#34;</span>
</span></span></code></pre></div><p>Si al final necesitamos manipular texto, tendremos que aprender un poco de <code>regular expressions</code> y, si puede ser, utilizaremos el paquete 
<a href="https://stringr.tidyverse.org/articles/regular-expressions.html" target="_blank" rel="noopener"><code>stringr</code></a></p>
<br>




<h2 id="operaciones-lógicas">Operaciones lógicas
  <a href="#operaciones-l%c3%b3gicas"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h2>
<p>A veces tendremos que hacer operaciones lógicas, por ejemplo, tendremos que seleccionar a los individuos que tengan más renta que la media y que además estén solteros. En R tenemos los siguientes operadores lógicos:</p>
<ul>
<li>
<p><code>&amp;</code>: es el operador lógico <strong>AND</strong>. Devuelve TRUE si se cumplen todas las condiciones.</p>
</li>
<li>
<p><code>|</code>: es el operador lógico <strong>OR</strong>. Solo devuelve FALSE si NO se cumple ninguna de las condiciones.</p>
</li>
<li>
<p><code>!</code>: es el operador lógico <strong>NOT</strong>. Cambia el sentido de una afirmación lógica. No confundir con el operador relacional o de comparación <code>!=</code></p>
</li>
<li>
<p><code>xor()</code>: es el operador lógico <strong>Exclusive OR</strong>. Devuelve TRUE si se cumple una y solo una de las 2 condiciones.</p>
</li>
</ul>
<p>Hay alguno mas (<code>all()</code>, <code>any()</code>, <code>&amp;&amp;</code> y <code>||</code>) pero suficiente con estos tres primeros.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>(<span style="color:#099">4</span> <span style="color:#000;font-weight:bold">&gt;</span> <span style="color:#099">3</span>) <span style="color:#000;font-weight:bold">&amp;</span> (<span style="color:#099">3</span> <span style="color:#000;font-weight:bold">&gt;</span> <span style="color:#099">2</span>)     <span style="color:#998;font-style:italic">#- Y: como se cumplen las dos condiciones nos devuelve TRUE</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] TRUE</span>
</span></span><span style="display:flex;"><span>(<span style="color:#099">1</span> <span style="color:#000;font-weight:bold">==</span> <span style="color:#099">2</span>) <span style="color:#000;font-weight:bold">|</span> (<span style="color:#099">2</span> <span style="color:#000;font-weight:bold">&gt;</span><span style="color:#099">3</span>)       <span style="color:#998;font-style:italic">#- O: Como no se cumple ninguna de las 2 condiciones nos devuelve FALSE</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] FALSE</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">!</span>(<span style="color:#099">4</span> <span style="color:#000;font-weight:bold">&gt;</span> <span style="color:#099">3</span>)              <span style="color:#998;font-style:italic">#- NOT: 4 es mayor que 3 es TRUE, pero el ! delante de esa condición la niega y pasa a FALSE</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] FALSE</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">!!</span>(<span style="color:#099">4</span> <span style="color:#000;font-weight:bold">&gt;</span> <span style="color:#099">3</span>)             <span style="color:#998;font-style:italic">#- si niegas dos veces, vuelves al principio: TRUE</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] TRUE</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">xor</span>(<span style="color:#099">10</span> <span style="color:#000;font-weight:bold">&lt;</span> <span style="color:#099">1</span>, <span style="color:#099">10</span> <span style="color:#000;font-weight:bold">&gt;</span><span style="color:#099">1</span> ) <span style="color:#998;font-style:italic">#- se cumple 1 de las dos condiciones, entonces TRUE</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] TRUE</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">xor</span>(<span style="color:#099">10</span> <span style="color:#000;font-weight:bold">&gt;</span> <span style="color:#099">1</span>, <span style="color:#099">10</span> <span style="color:#000;font-weight:bold">&gt;</span><span style="color:#099">1</span> ) <span style="color:#998;font-style:italic">#- se cumplen las 2 condiciones, entonces FALSE</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] FALSE</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">xor</span>(<span style="color:#099">10</span> <span style="color:#000;font-weight:bold">&lt;</span> <span style="color:#099">1</span>, <span style="color:#099">10</span> <span style="color:#000;font-weight:bold">&lt;</span><span style="color:#099">1</span> ) <span style="color:#998;font-style:italic">#- no se cumple ninguna de las 2 condiciones: FALSE</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] FALSE</span>
</span></span></code></pre></div>



<h2 id="funciones">Funciones
  <a href="#funciones"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h2>
<p>Entender qué es una función y cómo “funciona una función” es muuuuy importante!!!</p>
<p>R y sus paquetes tienen muchísimas funciones que nos permiten, por ejemplo, calcular logaritmos, o raíces cuadradas, o calcular desviaciones típicas etc etc… Además, también podemos crear nuestras propias funciones. Seguramente crearemos algunas en el curso, pero antes, es MUY IMPORTANTE entender qué es y cómo “funciona”, cómo se usa, una función de R.</p>
<p>Repito, es muy importante entender qué es y cómo usar una función. De hecho, todo lo que ocurre/pasa en R es porque has llamado a una función. Si algo ocurre en R es porque has hecho una llamada a una función, una “function call”.</p>
<p>Una función no es más un trozo de código R, unas instrucciones de R, a las que les hemos puesto un nombre; entonces, cuando invoquemos ese nombre, esa función, se ejecutarán esas lineas de código.</p>
<p>Empecemos a usar alguna función sencilla (el objetivo es entender como “funciona” una función):</p>
<p>Una función muy sencilla es <code>sqrt()</code>. Como igual imagináis, la función <code>sqrt()</code> sirve para calcular la raíz cuadrada de un número. Alguien, ha escrito por nosotros unas lineas de código que sirven para hacer raíces cuadradas y ha asignado esas lineas de código al nombre <code>sqrt</code>. sqrt es el nombre de la función <code>sqrt()</code></p>
<p>Como alguien se ha preocupado de construir una función para hacer raíces cuadradas, nosotros podemos usar esa función. Si por ejemplo queremos calcular la raíz cuadrada de 9, sólo tendremos que teclear en R <code>sqrt(9)</code>.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#900;font-weight:bold">sqrt</span>(<span style="color:#099">9</span>)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] 3</span>
</span></span></code></pre></div><p>Perfecto, está bien que sepamos como hacer raíces cuadradas en R, PERO <strong>lo importante es empezar a entender la estructura de las funciones</strong>.</p>
<p>La forma genérica de utilizar una función es algo como: <code>nombre_de_la_funcion(argumento_1, argumento_2, ....)</code>. En el caso de la función <code>sqrt()</code> su nombre es <code>sqrt</code> y esta función solo admite un argumento. Un vector de números<sup id="fnref:5"><a href="#fn:5" class="footnote-ref" role="doc-noteref">5</a></sup>.</p>
<p><code>sqrt()</code> solo admite un argumento, pero otras funciones pueden tener más de un argumento y quizás los argumentos no sean numéricos sino por ejemplo textuales. Buff!! es fácil, pero explicarlo por escrito, sin ver al que va a recibir la explicación, es complicado.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#900;font-weight:bold">sqrt</span>(<span style="color:#099">9</span>)
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">sqrt</span>(<span style="color:#099">9</span>, <span style="color:#099">4</span>)   <span style="color:#998;font-style:italic"># no funciona porque sqrt() solo admite un argumento </span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">sqrt</span>(<span style="color:#d14">&#34;9&#34;</span>)    <span style="color:#998;font-style:italic"># no funciona, solo hemos puesto un argumento pero es textual, y ha de ser numérico</span>
</span></span></code></pre></div><p>Es decir, para usar una función tenemos que saber cuantos argumentos admite y de que tipo han de ser esos argumentos. Generalmente esto es obvio, pero habrá veces que tengamos que usar una función que no sepamos como funciona, entonces tendrás que buscar su ayuda.</p>
<p>Para obtener ayuda sobre una función podemos usar la función <code>help()</code>. Si tecleas en R <code>help(nombre_de_la_funcion)</code> se abrirá una ventana de ayuda en la pestaña “Help” del panel abajo-derecha. Probémoslo con la función <code>sqrt()</code></p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#900;font-weight:bold">help</span>(sqrt) 
</span></span></code></pre></div><p>Al leer la ayuda de la función te darás cuenta que hace un rato hicimos un poco de trampas, ya que explicamos el funcionamiento de las funciones de una forma un poco simplificada. Vamos a hacerlo ahora mejor.</p>
<p>Yo dije que la estructura de una función es <code>nombre_de_la_funcion(argumento_1, argumento_2, ....)</code> cuando en realidad es : <strong><code>nombre_de_la_funcion(argumento_1 = valor_1, argumento_2 = valor_2, ....)</code></strong>.</p>
<p>Vamos a explicarlo con la función <code>sqrt()</code>. El nombre de la función <code>sqrt()</code> es <code>sqrt</code>; y ¿cuales son sus argumentos? Si miramos más detenidamente la ayuda, veremos que sí, que sólo tiene un argumento <code>x</code> , que además debe ser numérico.</p>
<p>Bien, pero ¿cual es el valor del argumento? Intenta descubrirlo con el chunk de código siguiente:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#900;font-weight:bold">sqrt</span>(x <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">9</span>)
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">sqrt</span>(x <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">4</span>)
</span></span></code></pre></div><p>La sintaxis correcta de <code>sqrt()</code> es efectivamente <code>nombre_de_la_funcion(argumento_1 = valor_1, argumento_2 = valor_2, ....)</code>, en su caso, como solo tiene un argumento: <code>sqrt(argumento = valor)</code>.</p>
<p>El nombre del argumento es <code>x</code>, y el valor del argumento es el que nosotros queramos, siempre que sea numérico. La sintaxis correcta-correcta es <code>sqrt(x = 9)</code>. 9 es el valor que le damos al argumento <code>x</code> de la función <code>sqrt()</code>.</p>
<p>Obviamente podemos cambiar el valor de la función, sino la función no nos sería muy útil. Entonces, ¿por qué funcionan las 2 lineas de código siguientes?</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#900;font-weight:bold">sqrt</span>(<span style="color:#099">9</span>)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] 3</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">sqrt</span>(<span style="color:#099">4</span>)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] 2</span>
</span></span></code></pre></div><p>Pues porque a R no le importa que no pongas el nombre del argumento, puedes poner solamente su valor. Hablaremos de esto un poco más en clase.</p>
<p>A ver si consigues diferenciar, en una función, entre el nombre de un argumento y su valor</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>x <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#099">25</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">sqrt</span>(<span style="color:#099">9</span>)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] 3</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">sqrt</span>(x)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] 5</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">sqrt</span>(x <span style="color:#000;font-weight:bold">=</span> x)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] 5</span>
</span></span></code></pre></div><p>Sí, cuesta un poco, poquet a poquet, 
<a href="https://www.bookdepository.com/Bird-By-Bird-Anne-Lamott/9780385480017" target="_blank" rel="noopener">“bird by bird”</a>.</p>
<br>
<p>Otra vez más. Por favor, calculad con R el logaritmo de 1000 en base 10. Para ello tenéis que usar la función <code>log()</code>, y cómo no sabéis cómo se usa, no sabéis cómo es su sintaxis, no sabéis cuales son sus argumentos, os tocará mirar la ayuda de la función.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#900;font-weight:bold">help</span>(log)
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">log</span>(x <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">1000</span>, base <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">10</span>)
</span></span></code></pre></div><p>Al principio mirar la ayuda interna de R para las funciones abruma, pero muchas veces con mirar los ejemplos (que están siempre al final) o la sección de “Arguments” es suficiente. En el caso de <code>log()</code> vemos que admite dos argumentos, “x” y “base”. La ayuda nos dice que la sintaxis de la función es:</p>
<ul>
<li>
<p>log(x, base = exp(1))</p>
</li>
<li>
<p>“x” ha de ser numérico (o complejo)</p>
</li>
<li>
<p>“base” ha de ser un número positivo (o complejo)</p>
</li>
</ul>
<p>Fíjate que la sintaxis de la función no es <code>log(x, base)</code>, sino <code>log(x, base = exp(1))</code>; esto indica que el argumento “base” tiene un valor asignado por defecto; es decir, si no especificamos el valor de “base”, “base” será exp(1); es decir, el numero e y estaremos tomando logaritmos naturales.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#900;font-weight:bold">log</span>(<span style="color:#099">1000</span>)  <span style="color:#998;font-style:italic">#- como no especificamos el valor del argumento &#34;base&#34;, R lo fija por defecto base = exp(1) y toma logaritmos naturales</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] 6.907755</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">log</span>(<span style="color:#099">1000</span>, base <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">10</span>) <span style="color:#998;font-style:italic">#- ahora si estamos calculando logaritmo en base 10</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] 3</span>
</span></span></code></pre></div><br>
<p>Es más seguro poner los nombres de los argumentos, pero si no los pones, o solo los pones parcialmente, también funciona</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#900;font-weight:bold">log</span>(<span style="color:#099">1000</span>, bas <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">10</span>)   <span style="color:#998;font-style:italic">#- funciona, pero ...</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] 3</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">log</span>(<span style="color:#099">1000</span>, <span style="color:#099">10</span>)         <span style="color:#998;font-style:italic">#- esto sí es muy habitual verlo</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] 3</span>
</span></span></code></pre></div><p>Eso sí, si no pones el nombre de los argumentos, has de tener en cuenta el orden de estos.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#900;font-weight:bold">log</span>(<span style="color:#099">10</span>, <span style="color:#099">1000</span>)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] 0.3333333</span>
</span></span></code></pre></div><p>Poco a poco iremos hablando más de funciones. Cuando usemos una nueva generalmente tendremos que consultar la <strong>ayuda</strong> para ver su sintaxis y sus argumentos.</p>
<p>Saber buscar ayuda es una de las habilidades más importantes a la hora de aprender a programar. 
<a href="https://sctyner.github.io/rhelp.html" target="_blank" rel="noopener">Este post</a> da buenos consejos sobre cómo buscar ayuda sobre R. En el siguiente apartado desarrollaré un poco la idea de cómo usar la ayuda interna de R sobre sus funciones.</p>
<br>




<h3 id="ayuda-de-las-funciones">Ayuda de las funciones
  <a href="#ayuda-de-las-funciones"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h3>
<p>Hay varias formas de pedir a R la ayuda interna de una función:</p>
<ol>
<li>
<p>usando la función <code>help()</code>, o sea, tecleando en R <code>help(nombre_de_la_funcion)</code>; por ejemplo <code>help(log)</code></p>
</li>
<li>
<p>tecleando en R <code>?nombre_de_la_funcion</code>; por ejemplo <code>?(log)</code></p>
</li>
<li>
<p>la forma más cómoda, y la que suelo usar, consiste en situar el cursor en el nombre de la función y pulsar la tecla <kbd>F1</kbd></p>
</li>
</ol>
<p>Entender y saber leer la ayuda de las funciones es muy útil, así que os recomiendo, para más adelante (de momento tenemos otras cosas que aprender), la lectura de 
<a href="http://socviz.co/appendix.html#a-little-more-about-r" target="_blank" rel="noopener">este post</a>. Explican bien como está estructurada la ayuda de las funciones. Abajo tienes un ejemplo con la función <code>mean()</code>.</p>
<br>
<p>Como ejemplo puedes probar a leer la ayuda de la función <code>seq()</code>. Mirando la ayuda intenta adivinar que harán las siguientes expresiones R. Tienes que entender porque la cuarta y quinta linea no devuelven el mismo resultado.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#900;font-weight:bold">seq</span>(from <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>, to <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">10</span>)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt;  [1]  0  1  2  3  4  5  6  7  8  9 10</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">seq</span>(<span style="color:#099">0</span>, <span style="color:#099">10</span>)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt;  [1]  0  1  2  3  4  5  6  7  8  9 10</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">seq</span>(<span style="color:#099">10</span>, <span style="color:#099">0</span>)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt;  [1] 10  9  8  7  6  5  4  3  2  1  0</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">seq</span>(<span style="color:#099">0</span>, <span style="color:#099">10</span>, <span style="color:#099">3</span>)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] 0 3 6 9</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">seq</span>(<span style="color:#099">0</span>, <span style="color:#099">10</span>, length.out <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">3</span>)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1]  0  5 10</span>
</span></span></code></pre></div><br>
<p>No solo tenemos la ayuda oficial, en R también hay funciones que nos pueden ayudar a entender como funciona otra función; por ejemplo la función <code>args()</code>, que como su nombre insinúa, nos permite ver los argumentos de una función. Por ejemplo:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#900;font-weight:bold">args</span>(sqrt)       <span style="color:#998;font-style:italic">#- sqrt() solo tiene un argumento, x</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">args</span>(log)        <span style="color:#998;font-style:italic">#- log() tiene 2 argumentos: x y base. Además base tiene un valor por defecto: exp(1)</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">args</span>(args)       <span style="color:#998;font-style:italic">#- args() solo tiene un argumento, llamado name.</span>
</span></span></code></pre></div><br>




<h3 id="ciclo-vital-de-las-funciones">Ciclo vital de las funciones
  <a href="#ciclo-vital-de-las-funciones"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h3>
<p>Otra idea que conviene conocer, es que las funciones tienen un ciclo vital o “life cycle”: hay funciones que acaban de ser creadas y aún son experimentales. Hay funciones que pueden estar siendo cuestionadas y otras que pasan de experimentales a estables. 
<a href="https://www.tidyverse.org/lifecycle/" target="_blank" rel="noopener">Este post</a> muestra los diferentes estados de una función. El estado actual de una función se suele conocer por su distintivo o “<strong>badge</strong>”. Por ejemplo, en el siguiente tweet se explica la diferencia entre una función cuyo badge es <code>deprecated</code> de otra función cuyo badge es <code>superseded</code>:</p>
<blockquote class="twitter-tweet">
<p lang="en" dir="ltr">
Why <a href="https://twitter.com/hadleywickham?ref_src=twsrc%5Etfw">(**hadleywickham?**)</a> and team switched from calling functions “retired” to “superseded” - “When people heard a function was retired they thought we were going to take it out back and shoot it in the head.” <a href="https://twitter.com/hashtag/rstudioconf?src=hash&amp;ref_src=twsrc%5Etfw">\#rstudioconf</a> <a href="https://t.co/462hbOSkRv">pic.twitter.com/462hbOSkRv</a>
</p>
— Emily Robinson ((**robinson_es?**)) <a href="https://twitter.com/robinson_es/status/1222972469650153472?ref_src=twsrc%5Etfw">January 30, 2020</a>
</blockquote>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
<br>
<p>Ya vale de funciones, pero hay algo que a algunos os rondará por la cabeza.</p>
<p>Cuando hemos visto la ayuda de la función <code>sqrt()</code>, sólo tenía un argumento <code>x</code>, y este argumento tenía que ser, según la ayuda, un vector (o array<sup id="fnref:6"><a href="#fn:6" class="footnote-ref" role="doc-noteref">6</a></sup>) de números.</p>
<p><strong>PERO</strong> nosotros no introdujimos un vector en <code>sqrt()</code>, sino que introdujimos un sólo número. Sí, es cierto, introdujimos un sólo número, pero R no entiende lo que es un escalar, para él un número aislado es un vector, para R el número 4 es un vector con un sólo elemento, el número 4.</p>
<p>Fíjate que el valor que introduzcamos en <code>sqrt()</code> tiene que cumplir dos requisitos, ser un vector y que sus valores sean numéricos. Estas dos ideas hay que tenerlas claras para trabajar con R:</p>
<ul>
<li>
<p>Tipos de datos: <code>sqrt()</code> sólo admite datos numéricos, pero ¿qué otros tipos de datos podemos utilizar en R? Lo hemos visto en una sección anterior (texto, lógicos,…) . Por ejemplo, si ejecutamos <code>sqrt(&quot;99&quot;)</code>, R nos devolverá un error, porque <code>&quot;99&quot;</code> no es numérico es texto.</p>
</li>
<li>
<p>Estructuras de datos: El vector es una de las estructuras de datos que “entiende R”, una de las estructuras en las que puede almacenar datos y luego volver a encontrarlos, pero hay más (matrices, listas, data frames)</p>
</li>
</ul>
<p>En la próxima sección se presentan las diferentes estructuras de datos que tiene R para almacenar datos, pero en el curso vamos a centrarnos principalmente en una estructura de datos, los datos tabulares, que en R se almacenan en una estructura llamada <code>data frame</code>.</p>
<p>En clase ya hemos trabajado con data.frames, es la estructura de datos a la que estamos más acostumbrados, una tabla de datos con filas y columnas. Son las típicas tablas de Excel, con las variables en columnas y las observaciones en filas. Es muy fácil e intuitivo porque estamos acostumbrados a ellas, es lo que estamos acostumbrados a trabajar en ciencias sociales.</p>
<p>Igual de intuitivo resulta el hecho de que hay variables numéricas, como por ejemplo el número de páginas de un libro, y variables cuyos valores son texto; por ejemplo el título o el autor del libro.</p>
<br>




<h2 id="estructuras-de-datos-en-r">Estructuras de datos en R
  <a href="#estructuras-de-datos-en-r"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h2>
<p>R es un lenguaje/programa/entorno para hacer estadística por lo que generalmente trabajaremos con datos. Pero los datos tienen que estar almacenados en objetos. Igual que en matemáticas podemos almacenar datos en determinadas estructuras como vectores o matrices, en R ocurre lo mismo, los datos se almacenan en objetos. PERO hay distintos tipos de objetos o estructuras de datos<sup id="fnref:7"><a href="#fn:7" class="footnote-ref" role="doc-noteref">7</a></sup>.</p>
<p>Para almacenar conjuntos de valores o datos, R tiene definidas determinadas estructuras de datos. ¿Cuántas? ¿Cuáles? ¿Cómo se llaman?</p>
<p>Pues hay varias formas de contarlo, para Hadley Wickham sólo hay una estructura de datos, los vectores. Sólo que estos vectores pueden tener diversas propiedades. Hay vectores atómicos y vectores recursivos. Seguro que tiene razón, pero aunque sea un poco menos preciso, es mucho más útil explicarlo, al menos al principio, de otra forma.</p>
<p>Podemos pensar que las principales estructuras de datos en R son:</p>
<ul>
<li>
<p>vectores</p>
</li>
<li>
<p>matrices</p>
</li>
<li>
<p>arrays (matrices multidimensionales)</p>
</li>
<li>
<p>listas</p>
</li>
<li>
<p>data.frames</p>
</li>
</ul>
<p>Las que más utilizaremos en el curso son los data.frames, y en segundo lugar las listas. Sí, pero en realidad estas 2 estructuras (data.frames y listas) son en realidad agrupaciones de vectores; es decir, la estructura básica, la más importante en R son los vectores. Son los más importantes porque el resto de estructuras se construyen a partir de grupos de vectores o añadiendo alguna propiedad adicional, o atributo, a un vector.</p>
<br>




<h1 id="2-vectores">2. Vectores
  <a href="#2-vectores"></a>
</h1>
<p>La <strong>estructura de datos fundamental en R es el vector</strong><sup id="fnref:8"><a href="#fn:8" class="footnote-ref" role="doc-noteref">8</a></sup>. En R, un vector es una estructura de datos que sirve para almacenar un conjunto ordenado de valores o elementos. Un vector puede contener cualquier número de elementos; sin embargo, <strong>todos los elementos deben ser del mismo tipo</strong>. Por ejemplo, un vector no puede contener números y texto.</p>
<p>Esta estructura para almacenar datos en R es muy fácil de entender porque son los típicos vectores que conocemos de matemáticas.</p>
<p>Vamos a crear nuestro primer vector en R; para ello usamos la función <code>c()</code>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>aa <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#900;font-weight:bold">c</span>(<span style="color:#099">3</span>, <span style="color:#099">22</span>, <span style="color:#099">6</span>)
</span></span><span style="display:flex;"><span>aa
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1]  3 22  6</span>
</span></span></code></pre></div><p>Como vemos con la función <code>c()</code> hemos concatenado 3 números para construir un vector, el vector aa.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#900;font-weight:bold">is.vector</span>(aa)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] TRUE</span>
</span></span></code></pre></div><p>Una de las características que tiene esta estructura de datos es que los elementos de un vector tienen que ser todos del mismo tipo. En nuestro caso el vector <code>aa</code> tiene 3 elementos, todos ellos de tipo numérico, concretamente doubles. Veámoslo con <code>typeof()</code></p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#900;font-weight:bold">typeof</span>(aa)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] &#34;double&#34;</span>
</span></span></code></pre></div><p>Creemos ahora un vector con datos textuales o caracteres:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>aa <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#900;font-weight:bold">c</span>(<span style="color:#d14">&#34;Hola&#34;</span>, <span style="color:#d14">&#34;número&#34;</span>, <span style="color:#d14">&#34;9&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">is.vector</span>(aa)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] TRUE</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">typeof</span>(aa)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] &#34;character&#34;</span>
</span></span></code></pre></div><p>Ahora un vector de booleanos:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>aa <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#900;font-weight:bold">c</span>(<span style="color:#000;font-weight:bold">FALSE</span>, <span style="color:#000;font-weight:bold">TRUE</span>, <span style="color:#000;font-weight:bold">FALSE</span>)
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">is.vector</span>(aa)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] TRUE</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">typeof</span>(aa)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] &#34;logical&#34;</span>
</span></span></code></pre></div><p>Como R tiene 4 tipos de datos fundamentales (integer, double, character y lógico)<sup id="fnref:9"><a href="#fn:9" class="footnote-ref" role="doc-noteref">9</a></sup> se pueden crear con ellos 4 tipos de vectores; a estos tipos fundamentales de vectores se les suele llamar como “atomic vectors”.</p>
<br>




<h2 id="atomic-vectors-vsaugmented-vectors">Atomic vectors vs. Augmented vectors
  <a href="#atomic-vectors-vsaugmented-vectors"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h2>
<p>Este tópico no es fácil de entender, seguramente, igual empezáis a entenderlo a mitad de curso, pero si que conviene tener al menos una ligera idea sobre ello, por eso lo introduzco mínimamente.</p>
<p>Como R tiene 4 tipos fundamentales de datos, con ellos podemos construir 4 tipos de vectores fundamentales o “atomic vectors”. El tipo de datos, or modes, define cómo se van a almacenar internamente los valores. El tipo de los vectores podemos obtenerlo con la función <code>typeof()</code>.</p>
<p>Para ver de que tipo (fundamental) es un vector, disponemos de la función <code>typeof()</code></p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#900;font-weight:bold">typeof</span>(<span style="color:#099">4</span>)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] &#34;double&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">typeof</span>(<span style="color:#099">4L</span>)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] &#34;integer&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">typeof</span>(<span style="color:#d14">&#34;4&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] &#34;character&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">typeof</span>(<span style="color:#000;font-weight:bold">TRUE</span>)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] &#34;logical&#34;</span>
</span></span></code></pre></div><p><strong>PERO</strong> resulta que sobre la base de estos 4 tipos de vectores fundamentales se han construido otros tipos de vectores, que como son derivados de los fundamentales, se les suele llamar (derived or) <strong>augmented vectors</strong><sup id="fnref:10"><a href="#fn:10" class="footnote-ref" role="doc-noteref">10</a></sup>.</p>
<p>Voy a explicarlo un poco, pero antes hay que saber que los objetos, por ejemplo los vectores, en R pueden tener “atributos”. Podemos pensar que los atributos son una forma de poder almacenar información adicional (metadatos) en un objeto de R. OK, estos atributos son los que permiten crean nuevos tipos de vectores (augmented vectors).</p>
<p>Los augmented vectors o vectores derivados también se almacenarán internamente como numéricos o character o logical, <strong>PERO</strong> al contener información adicional, o atributos, hace que este tipo especial de vectores puedan ser identificados y tratados de forma especial por ciertas funciones de R. Es decir, los augmented vectors son como los atomic vectors (vectores fundamentales), se construyen a partir de ellos, PERO tienen información adicional (metadatos) almacenadas en sus atributos.</p>
<p>Se puede pensar que los atributos son una “named list of vectors” que se adjunta a un objeto. Puedes ver los atributos de un objeto con la función <code>attributes()</code>.</p>
<p>Entre los atributos que podemos definir, hay uno especial llamado class, que permite definir la <code>object’s class</code> y que es el atributo que va a hacer que algunos vectores se comporten de manera distinta ante algunas funciones; por ejemplo que se impriman o grafiquen de forma un poco especial. Podemos ver la clase (class) de un objeto con la función <code>class()</code>.</p>
<p>Entre los vectores aumentados, Hay 4 tipos importantes que conviene conocer: los factores, los factores ordenados, las fechas (date) y las date-time (o posixct).</p>
<div class="figure" style="text-align: center">
<img src="https://d33wubrfki0l68.cloudfront.net/baa19d0ebf9b97949a7ad259b29a1c4ae031c8e2/8e9b8/diagrams/vectors/summary-tree-s3-1.png" alt="Creado por Ildiko Czeller y Graham Parsons" width="90%" />
<p class="caption">
Figure 1: Creado por Ildiko Czeller y Graham Parsons
</p>
</div>
<p>Para tener un ejemplo que ayude a entender lo anterior uasaré el vector <code>iris$Species</code>. El vector <code>iris$Species</code> es en realidad un vector de integers pero, como ademas de los valores de los enteros, tiene metadatos almacenados en sus atributos, su class es factor. Sí, complicado entenderlo a la primera, PERO lo que si que se os tiene que quedar es que a veces usaremos factores. Lo importante será saber usar los factores correctamente y no tanto saber qué es un factor<sup id="fnref:11"><a href="#fn:11" class="footnote-ref" role="doc-noteref">11</a></sup>. Lo veremos!!</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#900;font-weight:bold">typeof</span>(iris<span style="color:#000;font-weight:bold">$</span>Species)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] &#34;integer&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">attributes</span>(iris<span style="color:#000;font-weight:bold">$</span>Species)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; $levels</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] &#34;setosa&#34;     &#34;versicolor&#34; &#34;virginica&#34; </span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; $class</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] &#34;factor&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">class</span>(iris<span style="color:#000;font-weight:bold">$</span>Species)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] &#34;factor&#34;</span>
</span></span></code></pre></div>



<h2 id="coerción">Coerción
  <a href="#coerci%c3%b3n"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h2>
<p>Ya dijimos que, en R, los elementos de un vector tienen que ser todos del mismo tipo; por eso decimos que los vectores son una estructura de datos homogénea.</p>
<p>Bien, pero ¿qué ocurre si en un vector hay elementos de distinto tipo?</p>
<p>por cómo están definidos internamente los vectores, sólo pueden contener elementos del mismo tipo, pero si por error introducimos valores de distinto tipo, R convertirá todos sus valores a un único tipo. Forzará a que sus elementos sean del mismo tipo. Esta forma de proceder en R, consistente en transformar todos los elementos de un vector a un mismo tipo se llama <strong>coerción</strong>.</p>
<p>¿A que tipo los convierte? Pues al menos flexible. Veámoslo con varios ejemplos:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>aa <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#900;font-weight:bold">c</span>(<span style="color:#099">4</span>, <span style="color:#099">6</span>,  <span style="color:#d14">&#34;Hola&#34;</span>)
</span></span></code></pre></div><p>En la expresión de arriba hemos puesto en el vector <code>aa</code> tres elementos, 2 números y un string. No puede ser, estamos violando las reglas internas de R para los vectores: los vectores sólo pueden tener elementos del mismo tipo.</p>
<p>Entonces, ¿por qué R no nos devuelve un mensaje de error? Porque lo que hace es convertir los valores de <code>aa</code> a un único tipo, ¿a cual? veámoslo con <code>typeof()</code>.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>aa <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#900;font-weight:bold">c</span>(<span style="color:#099">4</span>, <span style="color:#099">6</span>, <span style="color:#d14">&#34;Hola&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">is.vector</span>(aa)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] TRUE</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">typeof</span>(aa)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] &#34;character&#34;</span>
</span></span><span style="display:flex;"><span>aa               <span style="color:#998;font-style:italic">#- ¿qué ha pasado?</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] &#34;4&#34;    &#34;6&#34;    &#34;Hola&#34;</span>
</span></span></code></pre></div><p>Fíjate en los resultados. ha convertido los 2 números a caracteres. El primer elemento de <code>aa</code> no es el número cuatro sino el string 4. ¿Veis que está entre comillas? Lo ha convertido en el carácter <code>&quot;4&quot;</code>.</p>
<br>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>aa <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#900;font-weight:bold">c</span>(<span style="color:#000;font-weight:bold">TRUE</span>, <span style="color:#099">4L</span>, <span style="color:#099">4</span>, <span style="color:#d14">&#34;Hola&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">typeof</span>(aa)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] &#34;character&#34;</span>
</span></span><span style="display:flex;"><span>aa <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#900;font-weight:bold">c</span>(<span style="color:#000;font-weight:bold">TRUE</span>, <span style="color:#099">4L</span>, <span style="color:#099">4</span>)
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">typeof</span>(aa)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] &#34;double&#34;</span>
</span></span><span style="display:flex;"><span>aa <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#900;font-weight:bold">c</span>(<span style="color:#000;font-weight:bold">TRUE</span>, <span style="color:#099">4L</span>)
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">typeof</span>(aa)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] &#34;integer&#34;</span>
</span></span></code></pre></div><p>Fíjate que con el chunk de arriba puedes inferir las reglas de conversión que usa R. <code>character &gt; double &gt; integer &gt; logical</code>. Si en el vector hay un valor de texto, todos los valores se convertirán al tipo character.</p>
<p>Los valores de tipo carácter son los menos flexibles, piensa que no hay ninguna forma de convertir “Hola” en un número o en boolean. Al contrario sí se puede: el número 9 siempre se puede convertir al carácter “9”. Los booleans (TRUE y FALSE) se pueden transformar tanto en texto como en numérico: TRUE pasará a ser 1 y FALSE = 0.</p>
<br>




<h3 id="coerción-explícita">Coerción explícita
  <a href="#coerci%c3%b3n-expl%c3%adcita"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h3>
<p>A veces tendremos un vector de un tipo, por ejemplo numérico, pero nos gustaría convertirlo a por ejemplo character. ¿Podemos hacerlo? Sí.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>aa <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#900;font-weight:bold">c</span>(<span style="color:#099">1</span><span style="color:#000;font-weight:bold">:</span><span style="color:#099">4</span>)
</span></span><span style="display:flex;"><span>aa
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] 1 2 3 4</span>
</span></span><span style="display:flex;"><span>aa <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#900;font-weight:bold">as.character</span>(aa)
</span></span><span style="display:flex;"><span>aa
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] &#34;1&#34; &#34;2&#34; &#34;3&#34; &#34;4&#34;</span>
</span></span></code></pre></div><p>Hay toda una familia de unciones para hacer estas conversiones, si es que son posibles, ya que, por ejemplo, no podremos pasar un vector de strings a numérico.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#900;font-weight:bold">as.character</span>()           
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">as.logical</span>()    
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">as.numeric</span>()   
</span></span><span style="display:flex;"><span>y algunas más como <span style="color:#900;font-weight:bold">as.data.frame</span>() ....
</span></span></code></pre></div><br>




<h2 id="propiedades-de-los-vectores">Propiedades de los vectores
  <a href="#propiedades-de-los-vectores"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h2>
<p>Todo vector tiene dos propiedades claves:</p>
<ul>
<li>
<p>su tipo, que podemos ver con <code>typeof()</code></p>
</li>
<li>
<p>su longitud, orden o número de elementos, que podemos ver con <code>length()</code></p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>aa <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#900;font-weight:bold">c</span>(<span style="color:#099">1</span><span style="color:#000;font-weight:bold">:</span><span style="color:#099">10</span>)
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">typeof</span>(aa)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] &#34;integer&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">length</span>(aa)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] 10</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">attributes</span>(aa)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; NULL</span>
</span></span></code></pre></div><p>Ademas, los vectores pueden tener más propiedades o 
<a href="http://adv-r.had.co.nz/Data-structures.html#attributes" target="_blank" rel="noopener">atributos</a>. Estas propiedades son adicionales, no son necesarias y generalmente se usan para construir tipos especiales de vectores. Se definen los atributos con la función <code>attr()</code> y con <code>attributes()</code> se pueden ver los atributos que tiene un determinado vector.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>aa <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#900;font-weight:bold">c</span>(<span style="color:#099">1</span><span style="color:#000;font-weight:bold">:</span><span style="color:#099">3</span>)
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">attributes</span>(aa)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; NULL</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">attr</span>(aa, <span style="color:#d14">&#34;atributo_1&#34;</span>) <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#d14">&#34;This is a vector&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">attributes</span>(aa)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; $atributo_1</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] &#34;This is a vector&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">attr</span>(aa, <span style="color:#d14">&#34;atributo_2&#34;</span>) <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#900;font-weight:bold">c</span>(<span style="color:#d14">&#34;primero&#34;</span>, <span style="color:#d14">&#34;segundo&#34;</span>, <span style="color:#d14">&#34;tercero&#34;</span>)
</span></span><span style="display:flex;"><span>aa
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] 1 2 3</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; attr(,&#34;atributo_1&#34;)</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] &#34;This is a vector&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; attr(,&#34;atributo_2&#34;)</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] &#34;primero&#34; &#34;segundo&#34; &#34;tercero&#34;</span>
</span></span></code></pre></div><p>Un atributo que a veces se usa es poner nombres a los elementos de un vector, se puede hacer directamente al crear el vector o después con <code>setNames()</code> o con <code>set_names()</code></p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>aa <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#900;font-weight:bold">c</span>(a <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">1</span>, b <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">2</span>, c <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">4</span>)
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>aa <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#900;font-weight:bold">c</span>(<span style="color:#099">1</span>,<span style="color:#099">2</span>,<span style="color:#099">4</span>)
</span></span><span style="display:flex;"><span>aa <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#900;font-weight:bold">setNames</span>(aa, <span style="color:#000;font-weight:bold">letters</span>[1<span style="color:#000;font-weight:bold">:</span><span style="color:#099">3</span>])       
</span></span><span style="display:flex;"><span>aa                                      
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; a b c </span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; 1 2 4</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>aa <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#900;font-weight:bold">c</span>(<span style="color:#099">1</span>,<span style="color:#099">2</span>,<span style="color:#099">4</span>)
</span></span><span style="display:flex;"><span>aa <span style="color:#000;font-weight:bold">&lt;-</span> rlang<span style="color:#000;font-weight:bold">::</span><span style="color:#900;font-weight:bold">set_names</span>(aa, <span style="color:#900;font-weight:bold">c</span>(<span style="color:#d14">&#34;a&#34;</span>, <span style="color:#d14">&#34;b&#34;</span>, <span style="color:#d14">&#34;c&#34;</span>))
</span></span><span style="display:flex;"><span>aa                                      
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; a b c </span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; 1 2 4</span>
</span></span></code></pre></div><br>




<h2 id="subsetting-con-vectores">Subsetting con vectores
  <a href="#subsetting-con-vectores"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h2>
<p>En R podemos agrupar valores en vectores. Perfecto, pero habrá veces que necesitemos manipular los vectores. Por ejemplo necesitaremos acceder a determinados elementos de un vector, quizás a los elementos que sean mayores que 5, o a los que empiecen con la letra A, etc etc… Este tipo de operaciones sobre los vectores se les conoce genéricamente como <strong>subsetting</strong>; porque lo que se hace es crear subconjuntos de un vector. Veámoslo.</p>
<p>Hay varios tipos de subsetting, pero con vectores los principales son 3:</p>
<ol>
<li><strong>Positive Index</strong>: podemos seleccionar por posición. Por ejemplo a los 2 primeros elementos o los 2 primeros y los 2 últimos. Veámoslo:</li>
</ol>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>aa <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#900;font-weight:bold">c</span>(<span style="color:#099">10</span><span style="color:#000;font-weight:bold">:</span><span style="color:#099">1</span>)
</span></span><span style="display:flex;"><span>aa<span style="color:#900;font-weight:bold">[c</span>(<span style="color:#099">1</span><span style="color:#000;font-weight:bold">:</span><span style="color:#099">2</span>)]        <span style="color:#998;font-style:italic">#- primer y segundo elemento del vector</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] 10  9</span>
</span></span><span style="display:flex;"><span>aa<span style="color:#900;font-weight:bold">[c</span>(<span style="color:#099">1</span>,<span style="color:#099">2</span>,<span style="color:#099">9</span>,<span style="color:#099">10</span>)]   <span style="color:#998;font-style:italic">#- dos primeros y 2 últimos</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] 10  9  2  1</span>
</span></span><span style="display:flex;"><span>aa<span style="color:#900;font-weight:bold">[c</span>(<span style="color:#099">1</span>,<span style="color:#099">1</span>,<span style="color:#099">10</span>,<span style="color:#099">10</span>)]  <span style="color:#998;font-style:italic">#- si repites el indice se repite el elemento del vector</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] 10 10  1  1</span>
</span></span></code></pre></div><ol start="2">
<li><strong>Negative index</strong>: eliminamos elementos del vector.</li>
</ol>
<p>Por ejemplo eliminamos los 2 primeros elementos del vector y los 2 últimos:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>aa <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#900;font-weight:bold">c</span>(<span style="color:#099">10</span><span style="color:#000;font-weight:bold">:</span><span style="color:#099">1</span>)
</span></span><span style="display:flex;"><span>aa[<span style="color:#000;font-weight:bold">-</span> <span style="color:#900;font-weight:bold">c</span>(<span style="color:#099">1</span>,<span style="color:#099">2</span>, <span style="color:#099">9</span><span style="color:#000;font-weight:bold">:</span><span style="color:#099">10</span>)]
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] 8 7 6 5 4 3</span>
</span></span></code></pre></div><ol start="3">
<li><strong>Logical index</strong>: se seleccionan aquellas posiciones marcadas con TRUE.</li>
</ol>
<p>Esta forma de hacer subsetting será muy útil. De momento no lo apreciaremos, pero enseguida veremos su utilidad cuando hagamos subsetting lógico con funciones de comparación. Como ejemplo:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>aa <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#099">1</span><span style="color:#000;font-weight:bold">:</span><span style="color:#099">10</span>
</span></span><span style="display:flex;"><span>aa <span style="color:#000;font-weight:bold">&lt;-</span> aa[aa <span style="color:#000;font-weight:bold">&gt;=</span> <span style="color:#099">7</span>]
</span></span><span style="display:flex;"><span>aa
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1]  7  8  9 10</span>
</span></span></code></pre></div><p>Si no acabas de entenderlo, corre las siguientes lineas de código:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>aa <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#099">1</span><span style="color:#000;font-weight:bold">:</span><span style="color:#099">10</span>
</span></span><span style="display:flex;"><span>aa <span style="color:#000;font-weight:bold">&lt;=</span> <span style="color:#099">4</span>
</span></span><span style="display:flex;"><span>aa[aa <span style="color:#000;font-weight:bold">&lt;=</span> <span style="color:#099">4</span>]
</span></span><span style="display:flex;"><span>aa <span style="color:#000;font-weight:bold">&lt;-</span> aa[aa <span style="color:#000;font-weight:bold">&lt;=</span> <span style="color:#099">4</span>]
</span></span></code></pre></div>



<h2 id="modificando-elementos-de-un-vector">Modificando elementos de un vector
  <a href="#modificando-elementos-de-un-vector"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>aa <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#900;font-weight:bold">c</span>(<span style="color:#099">1</span><span style="color:#000;font-weight:bold">:</span><span style="color:#099">10</span>)
</span></span><span style="display:flex;"><span>aa[4] <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#099">88</span>             <span style="color:#998;font-style:italic">#- el cuarto elemento de aa tomará el valor 88</span>
</span></span><span style="display:flex;"><span>aa <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#900;font-weight:bold">c</span>(aa, <span style="color:#099">111</span>, <span style="color:#099">112</span>)   <span style="color:#998;font-style:italic">#- añadimos 2 elementos al vector aa</span>
</span></span></code></pre></div><p>Los vectores se pueden concatenar</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>aa <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#900;font-weight:bold">c</span>(<span style="color:#099">1</span><span style="color:#000;font-weight:bold">:</span><span style="color:#099">5</span>)
</span></span><span style="display:flex;"><span>bb <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#900;font-weight:bold">c</span>(<span style="color:#099">100</span><span style="color:#000;font-weight:bold">:</span><span style="color:#099">105</span>)
</span></span><span style="display:flex;"><span>cc <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#900;font-weight:bold">c</span>(aa, bb)
</span></span></code></pre></div>



<h2 id="creación-de-vectores-mediante-">Creación de vectores mediante …
  <a href="#creaci%c3%b3n-de-vectores-mediante-"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h2>
<ul>
<li>secuencias</li>
<li>repeticiones</li>
<li>números aleatorios</li>
</ul>




<h3 id="secuencias">Secuencias
  <a href="#secuencias"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h3>
<p>Ya sabemos que podemos generar secuencias de números con el operador <code>:</code>. Por ejemplo:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#099">1</span><span style="color:#000;font-weight:bold">:</span><span style="color:#099">10</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt;  [1]  1  2  3  4  5  6  7  8  9 10</span>
</span></span></code></pre></div><p>Pero la función <code>seq()</code> nos ofrecen más posibilidades:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#900;font-weight:bold">seq</span>(<span style="color:#099">1</span>, <span style="color:#099">10</span>, <span style="color:#099">2.5</span>)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] 1.0 3.5 6.0 8.5</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">seq</span>(from <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">1</span>, to <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">10</span>, by <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">2.5</span>)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] 1.0 3.5 6.0 8.5</span>
</span></span></code></pre></div>



<h3 id="repeticiones">Repeticiones
  <a href="#repeticiones"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h3>
<p>la función <code>rep()</code> permite generar vectores repitiendo los elementos de un vector o lista</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>aa <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#099">1</span><span style="color:#000;font-weight:bold">:</span><span style="color:#099">3</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">rep</span>(aa, <span style="color:#099">2</span>)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] 1 2 3 1 2 3</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">rep</span>(aa, each <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">2</span>)     
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] 1 1 2 2 3 3</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">rep</span>(aa, <span style="color:#900;font-weight:bold">c</span>(<span style="color:#099">2</span>,<span style="color:#099">2</span>,<span style="color:#099">4</span>))
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] 1 1 2 2 3 3 3 3</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">rep</span>(aa, each <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">2</span>, len <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">10</span>)   
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt;  [1] 1 1 2 2 3 3 1 1 2 2</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">rep</span>(aa, each <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">2</span>, times <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">3</span>)  
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt;  [1] 1 1 2 2 3 3 1 1 2 2 3 3 1 1 2 2 3 3</span>
</span></span></code></pre></div>



<h3 id="generando-números-aleatorios">generando números aleatorios
  <a href="#generando-n%c3%bameros-aleatorios"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h3>
<br>




<h2 id="operaciones-con-vectores">Operaciones con vectores
  <a href="#operaciones-con-vectores"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h2>
<p>Todos sabemos que los vectores se pueden sumar, multiplicar, trasponer, … En realidad en el curso no vamos a utilizar álgebra matricial o vectorial, pero si que vamos a manipular, a hacer operaciones con vectores, aunque generalmente lo haremos usando funciones.</p>
<p>No obstante, conviene saber algunas cosas sobre operaciones con vectores en R. Por ejemplo podemos sumar vectores:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>aa <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#099">1</span><span style="color:#000;font-weight:bold">:</span><span style="color:#099">10</span>
</span></span><span style="display:flex;"><span>bb <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#099">1</span><span style="color:#000;font-weight:bold">:</span><span style="color:#099">10</span>
</span></span><span style="display:flex;"><span>aa <span style="color:#000;font-weight:bold">+</span> bb
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt;  [1]  2  4  6  8 10 12 14 16 18 20</span>
</span></span></code></pre></div>



<h3 id="recycling">Recycling
  <a href="#recycling"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h3>
<p>Si intentamos hacer una operación con dos vectores pero estos no tienen el mismo orden, entonces R, automáticamente reciclará el vector más corto hasta que alcance la longitud del más grande y así poder hacer la operación. Este comportamiento se conoce como recycling. Por ejemplo:</p>
<p>Un ejemplo:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>aa <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#099">1</span><span style="color:#000;font-weight:bold">:</span><span style="color:#099">10</span>
</span></span><span style="display:flex;"><span>aa <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt;  [1]  2  3  4  5  6  7  8  9 10 11</span>
</span></span></code></pre></div><p>Como es que hemos podido sumar <code>aa+1</code>, si son vectores de distinto orden. Pues porque R siempre intentará hacer la operación y si no se puede, lo que hace es <strong>reciclar</strong>, aumentar el vector más pequeño, ¿Cómo? Repitiendo los elementos del vector más pequeño hasta que alcance la longitud del vector más grande.</p>
<p>Otro ejemplo de reciclado:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>aa <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#099">1</span><span style="color:#000;font-weight:bold">:</span><span style="color:#099">6</span>
</span></span><span style="display:flex;"><span>bb <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#099">1</span><span style="color:#000;font-weight:bold">:</span><span style="color:#099">2</span>
</span></span><span style="display:flex;"><span>aa <span style="color:#000;font-weight:bold">+</span> bb
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] 2 4 4 6 6 8</span>
</span></span></code></pre></div>



<h3 id="funciones-vectorizadas">funciones vectorizadas
  <a href="#funciones-vectorizadas"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h3>
<p>La mayoría de funciones, y todos los operadores de R están vectorizados; es decir, si una función recibe como input un vector, se aplicará la función a cada uno de los elementos del vector.</p>
<p>Por ejemplo, la función <code>sqrt()</code> tiene un sólo argumento, admite como valor de su único argumento un vector de números<sup id="fnref:12"><a href="#fn:12" class="footnote-ref" role="doc-noteref">12</a></sup>. Se aplicará la función a cada uno de los elementos del vector:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>aa <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#900;font-weight:bold">c</span>(<span style="color:#099">4</span>, <span style="color:#099">9</span>, <span style="color:#099">25</span>)
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">sqrt</span>(aa)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] 2 3 5</span>
</span></span></code></pre></div><p>La vectorización de las funciones hace que R sea un lenguaje en la que no es muy frecuente el uso de for loops o bucles, ya que en realidad la vectorización implica que se está ejecutando un bucle interno, pues se aplica la función a cada uno de los elementos del vector.</p>
<p>No siempre, pero en general, en R se sustituyen los bucles <code>for</code> tanto por la vectorización como por el uso de una familia de funciones <code>*apply</code> o más recientemente con las funciones del paquete <code>purrr</code>.</p>




<h2 id="operaciones-de-comparación">Operaciones de comparación
  <a href="#operaciones-de-comparaci%c3%b3n"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h2>
<p>Los operadores de comparación también están vectorizados. Si comparamos 2 vectores, las comparaciones se efectúan elemento a elemento</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>aa <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#099">1</span><span style="color:#000;font-weight:bold">:</span><span style="color:#099">3</span>
</span></span><span style="display:flex;"><span>bb <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#099">3</span><span style="color:#000;font-weight:bold">:</span><span style="color:#099">1</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>aa <span style="color:#000;font-weight:bold">==</span> bb
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] FALSE  TRUE FALSE</span>
</span></span><span style="display:flex;"><span>aa <span style="color:#000;font-weight:bold">&gt;=</span> bb
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] FALSE  TRUE  TRUE</span>
</span></span><span style="display:flex;"><span>aa <span style="color:#000;font-weight:bold">!=</span> bb
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1]  TRUE FALSE  TRUE</span>
</span></span></code></pre></div><p>En las operaciones de comparación también aplica el recycling:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>aa <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#099">1</span><span style="color:#000;font-weight:bold">:</span><span style="color:#099">3</span>
</span></span><span style="display:flex;"><span>bb <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#099">2</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>aa <span style="color:#000;font-weight:bold">==</span> bb
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] FALSE  TRUE FALSE</span>
</span></span><span style="display:flex;"><span>aa <span style="color:#000;font-weight:bold">&gt;=</span> bb
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] FALSE  TRUE  TRUE</span>
</span></span><span style="display:flex;"><span>aa <span style="color:#000;font-weight:bold">!=</span> bb
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1]  TRUE FALSE  TRUE</span>
</span></span></code></pre></div>



<h2 id="operaciones-de-conjuntos">Operaciones de conjuntos
  <a href="#operaciones-de-conjuntos"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h2>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>aa <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#099">1</span><span style="color:#000;font-weight:bold">:</span><span style="color:#099">4</span>
</span></span><span style="display:flex;"><span>bb <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#900;font-weight:bold">c</span>(<span style="color:#099">1</span><span style="color:#000;font-weight:bold">:</span><span style="color:#099">2</span>, <span style="color:#099">99</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">union</span>(aa, bb)            
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1]  1  2  3  4 99</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">intersect</span>(aa, bb)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] 1 2</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">setdiff</span>(aa, bb)       <span style="color:#998;font-style:italic">#- Elementos de aa que no están en bb</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] 3 4</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">setequal</span>(aa,bb)       <span style="color:#998;font-style:italic">#- chequea si dos vectores son iguales</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] FALSE</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">setequal</span>(<span style="color:#099">1</span><span style="color:#000;font-weight:bold">:</span><span style="color:#099">4</span>, <span style="color:#099">1</span><span style="color:#000;font-weight:bold">:</span><span style="color:#099">4</span>)    <span style="color:#998;font-style:italic">#- chequea si dos vectores son iguales</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] TRUE</span>
</span></span></code></pre></div>



<h2 id="funciones-útiles-con-vectores">Funciones útiles con vectores
  <a href="#funciones-%c3%batiles-con-vectores"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h2>
<p>Hay muchísimas funciones que se pueden utilizar con vectores, pero algunas que merece la pena conocer son<sup id="fnref:13"><a href="#fn:13" class="footnote-ref" role="doc-noteref">13</a></sup> :</p>
<br>
<ul>
<li><code>length()</code>: nos da el orden o número de elementos de un vector. Ya la vimos.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>aa <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#099">1</span><span style="color:#000;font-weight:bold">:</span><span style="color:#099">4</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">length</span>(aa)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] 4</span>
</span></span></code></pre></div><br>
<ul>
<li><code>sum()</code>: devuelve la suma de los valores de un vector.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>aa <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#099">1</span><span style="color:#000;font-weight:bold">:</span><span style="color:#099">4</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">sum</span>(aa)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] 10</span>
</span></span></code></pre></div><p>¿Qué pasaría si el vector fue de tipo texto o character?</p>
<br>
<ul>
<li><code>cumsum()</code>: devuelve un vector del mismo orden con la suma acumulada (hasta ese valor).</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>aa <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#099">1</span><span style="color:#000;font-weight:bold">:</span><span style="color:#099">4</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">cumsum</span>(aa)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1]  1  3  6 10</span>
</span></span></code></pre></div><br>
<ul>
<li><code>mean()</code>: devuelve el valor de la media de los valores del vector.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>aa <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#099">1</span><span style="color:#000;font-weight:bold">:</span><span style="color:#099">4</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">mean</span>(aa)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] 2.5</span>
</span></span></code></pre></div><br>
<ul>
<li><code>order()</code>: devuelve un vector con la posición que ocuparían los valores originales de un vector si se ordenasen de menor a mayor</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>aa <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#900;font-weight:bold">c</span>(<span style="color:#099">2.1</span>, <span style="color:#099">4.2</span>, <span style="color:#099">3.3</span>, <span style="color:#099">5.4</span>)
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">order</span>(aa)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] 1 3 2 4</span>
</span></span></code></pre></div><br>
<ul>
<li><code>sort()</code>: devuelve un vector con los valores del vector original ordenados de menor a mayor</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>aa <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#900;font-weight:bold">c</span>(<span style="color:#099">2.1</span>, <span style="color:#099">4.2</span>, <span style="color:#099">3.3</span>, <span style="color:#099">5.4</span>)
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">sort</span>(aa)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] 2.1 3.3 4.2 5.4</span>
</span></span></code></pre></div><br>
<ul>
<li>El siguiente chunk utiliza <code>order()</code> y subsetting para lograr el mismo resultado que con <code>sort()</code></li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>x <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#900;font-weight:bold">c</span>(<span style="color:#099">2.1</span>, <span style="color:#099">4.2</span>, <span style="color:#099">3.3</span>, <span style="color:#099">5.4</span>)
</span></span><span style="display:flex;"><span>x<span style="color:#900;font-weight:bold">[order</span>(x)]
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] 2.1 3.3 4.2 5.4</span>
</span></span></code></pre></div><br>




<h1 id="3-matrices">3. Matrices
  <a href="#3-matrices"></a>
</h1>
<p>Otra estructura para almacenar valores en R son las matrices. No las usaremos mucho, en realidad nada, pero conviene conocerlas un poco. R si que usa las matrices internamente por ejemplo para hacer análisis de regresión.</p>
<p>Al igual que los vectores, una matriz <strong>sólo puede contener elementos del mismo tipo</strong>, por eso decimos que es una estructura de datos de tipo homogénea.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>(aa <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#900;font-weight:bold">matrix</span>(<span style="color:#099">1</span><span style="color:#000;font-weight:bold">:</span><span style="color:#099">6</span>, ncol <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">2</span>, nrow <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">3</span>)) <span style="color:#998;font-style:italic">#- creamos una matriz 3x2</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt;      [,1] [,2]</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1,]    1    4</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [2,]    2    5</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [3,]    3    6</span>
</span></span></code></pre></div><p>Las matrices también se pueden crear <strong>concatenando vectores</strong>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>aa <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#900;font-weight:bold">c</span>(<span style="color:#099">1</span><span style="color:#000;font-weight:bold">:</span><span style="color:#099">3</span>)
</span></span><span style="display:flex;"><span>bb <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#900;font-weight:bold">c</span>(<span style="color:#099">11</span><span style="color:#000;font-weight:bold">:</span><span style="color:#099">13</span>)
</span></span><span style="display:flex;"><span>cc <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#900;font-weight:bold">cbind</span>(aa, bb)  <span style="color:#998;font-style:italic">#- agrupamos los vectores por columnas con cbind()</span>
</span></span><span style="display:flex;"><span>dd <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#900;font-weight:bold">rbind</span>(aa, bb)  <span style="color:#998;font-style:italic">#- agrupamos los vectores por filas con rbinb()</span>
</span></span></code></pre></div>



<h2 id="subsetting-con-matrices">Subsetting con matrices
  <a href="#subsetting-con-matrices"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h2>
<p>Es muy parecido al subsetting en vectores, el operador que usaremos es el mismo, <code>[ ]</code>, pero claro las matrices tienen dos dimensiones, usaremos <code>[ , ]</code>. Veámoslo:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>aa <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#900;font-weight:bold">matrix</span>(<span style="color:#099">1</span><span style="color:#000;font-weight:bold">:</span><span style="color:#099">9</span>, nrow <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">3</span>, ncol <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">3</span>) <span style="color:#998;font-style:italic">#- creamos una matriz 3x3</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>bb <span style="color:#000;font-weight:bold">&lt;-</span> aa[2, <span style="color:#099">3</span>]          <span style="color:#998;font-style:italic">#- seleccionamos el elemento (2,3) de la matriz</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>bb <span style="color:#000;font-weight:bold">&lt;-</span> aa[ , <span style="color:#099">2</span>]          <span style="color:#998;font-style:italic">#- seleccionamos la segunda columna (devuelve un vector)</span>
</span></span><span style="display:flex;"><span>bb <span style="color:#000;font-weight:bold">&lt;-</span> aa[ , <span style="color:#900;font-weight:bold">c</span>(<span style="color:#099">2</span>,<span style="color:#099">3</span>)]     <span style="color:#998;font-style:italic">#- seleccionamos la segunda y tercera columna</span>
</span></span><span style="display:flex;"><span>bb <span style="color:#000;font-weight:bold">&lt;-</span> aa<span style="color:#900;font-weight:bold">[c</span>(<span style="color:#099">2</span>,<span style="color:#099">3</span>), ]      <span style="color:#998;font-style:italic">#- seleccionamos la segunda y tercera FILAS</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>bb <span style="color:#000;font-weight:bold">&lt;-</span> aa[<span style="color:#099">-2</span>, ]          <span style="color:#998;font-style:italic">#- eliminamos la segunda fila</span>
</span></span><span style="display:flex;"><span>bb <span style="color:#000;font-weight:bold">&lt;-</span> aa[<span style="color:#099">-2</span>, <span style="color:#000;font-weight:bold">-</span><span style="color:#900;font-weight:bold">c</span>(<span style="color:#099">1</span>,<span style="color:#099">2</span>)]   <span style="color:#998;font-style:italic">#- eliminamos la segunda fila y la primera y segunda Columnas</span>
</span></span></code></pre></div>



<h2 id="nombrar-las-filas-y-columnas">Nombrar las filas y columnas
  <a href="#nombrar-las-filas-y-columnas"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h2>
<p>Al igual que los vectores, las matrices admiten atributos, entre ellos dar nombre a las filas y columnas</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>aa <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#900;font-weight:bold">matrix</span>(<span style="color:#099">1</span><span style="color:#000;font-weight:bold">:</span><span style="color:#099">6</span>, nrow <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">2</span>, ncol <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">3</span>) <span style="color:#998;font-style:italic">#- creamos una matriz 2x3</span>
</span></span><span style="display:flex;"><span>aa
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt;      [,1] [,2] [,3]</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1,]    1    3    5</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [2,]    2    4    6</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">colnames</span>(aa) <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#900;font-weight:bold">c</span>(<span style="color:#d14">&#34;col_1&#34;</span>, <span style="color:#d14">&#34;col_2&#34;</span>, <span style="color:#d14">&#34;col_3&#34;</span>)    
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">rownames</span>(aa) <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#900;font-weight:bold">paste</span>(<span style="color:#d14">&#34;fila&#34;</span>, <span style="color:#099">1</span><span style="color:#000;font-weight:bold">:</span><span style="color:#099">2</span>, sep <span style="color:#000;font-weight:bold">=</span> <span style="color:#d14">&#34;_&#34;</span>)    
</span></span><span style="display:flex;"><span>aa
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt;        col_1 col_2 col_3</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; fila_1     1     3     5</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; fila_2     2     4     6</span>
</span></span></code></pre></div>



<h2 id="funciones-para-matrices">Funciones para matrices
  <a href="#funciones-para-matrices"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h2>
<p>Hay muchas, por ejemplo:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>aa <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#900;font-weight:bold">matrix</span>(<span style="color:#099">1</span><span style="color:#000;font-weight:bold">:</span><span style="color:#099">6</span>, nrow <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">3</span>, ncol <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">2</span>)  <span style="color:#998;font-style:italic">#- matriz 3x2</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">dim</span>(aa)  <span style="color:#998;font-style:italic">#- devuelve un vector con las dimensiones de la matriz</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">t</span>(aa)    <span style="color:#998;font-style:italic">#- transpone la matriz</span>
</span></span></code></pre></div><p>Por supuesto se pueden multiplicar matrices, calcular inversas etc etc…</p>
<br>




<h1 id="4-arrays">4. Arrays
  <a href="#4-arrays"></a>
</h1>
<p>Otra estructura para almacenar valores en R son los arrays. Son matrices multidimensionales. No las usaremos mucho, en realidad nada. También es una estructura de datos homogénea; es decir, sus elementos tienen que ser todos del mismo tipo</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>(aa <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#900;font-weight:bold">array</span>(<span style="color:#099">1</span><span style="color:#000;font-weight:bold">:</span><span style="color:#099">12</span>, <span style="color:#900;font-weight:bold">c</span>(<span style="color:#099">2</span>, <span style="color:#099">3</span>, <span style="color:#099">2</span>)) )
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; , , 1</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt;      [,1] [,2] [,3]</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1,]    1    3    5</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [2,]    2    4    6</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; , , 2</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt;      [,1] [,2] [,3]</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1,]    7    9   11</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [2,]    8   10   12</span>
</span></span></code></pre></div><br>
<p>Podéis imaginar que si tuviésemos que hacer subsetting de un array, tendríamos que utilizar <code>[ , , ]</code>. Por ejemplo</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>aa[1, <span style="color:#099">2</span> , <span style="color:#099">1</span>]
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] 3</span>
</span></span></code></pre></div><br>




<h1 id="5-factores">5. Factores
  <a href="#5-factores"></a>
</h1>
<p>Podemos pensar que los factores son otro tipo de estructura para almacenar datos, aunque en realidad son vectores, pero vectores de un tipo especial. Veamos qué es un factor, para qué se utilizan, cómo puedo crearlos, etc…</p>
<p>Pues ya he dicho que los factores en realidad <strong>SON VECTORES</strong>, pero tienen un atributo que les hace comportarse de manera un poco especial.</p>
<p>Los creadores de R, crearon este tipo especial de vector llamado <strong>factor</strong> para almacenar información sobre <strong>variables categóricas</strong>; por ejemplo el color de ojos, o los días de la semana, los meses del año, el género etc…</p>
<p>En principio los factores sirven para representar variables categóricas: las categorías o valores que puede tomar la variable deberían ser fijas y conocidas. Por ejemplo, los días de la semana, que es una variable categórica con 7 categorías o grupos.</p>
<p>Mi opinión personal, puede que un poco extrema, es que los factores suelen dar problemas al manipular los datos, mejor evitarlos. Son útiles, sin embargo, al hacer gráficos (permiten ordenar las categorías para mostrarlas de la forma más conveniente) y cuando se trabaja con modelos estadísticos, ya que los factores se usan para representar variables categóricas, y las variables categóricas se incorporan, generalmente, en los modelos estadísticos mediante variables dummy. Si tienes tus variables categóricas almacenadas en factores las funciones relacionadas con los modelos, por ejemplo <code>lm()</code> tratarán la información de forma adecuada y generarán las dummies de forma automática en el modelo. Es muy fácil cometer errores al recodificar variables cuando codificas las variables categóricas como numéricas, así que mejor tenerlas como factores y que lo haga R por nosotros. Por ejemplo:</p>
<blockquote class="twitter-tweet" align="center" data-width="400" data-lang="en" data-dnt="true" data-theme="light"><p lang="en" dir="ltr">Data scientists take note. Big JAMA paper retracted because treatment variable coded [1,2] recoded in error to [1,0]. Results of analysis reversed. Lung disease self-management program actually harmed patients. Check recoding carefully! via @themalariaarea<a href="https://t.co/uF4bRLbqy8">https://t.co/uF4bRLbqy8</a></p>&mdash; Prof Ewen Harrison (@ewenharrison) <a href="https://twitter.com/ewenharrison/status/1183424510151872512?ref_src=twsrc%5Etfw">October 13, 2019</a></blockquote>
<p><br><br></p>
<p>En mi opinión, otra vez un poco extrema, el tidyverse comenzó como una lucha contra <code>string.as.factor = TRUE</code><sup id="fnref:14"><a href="#fn:14" class="footnote-ref" role="doc-noteref">14</a></sup>. Afortunadamente, la próxima versión de R, la versión 4.0, tendrá la opción <code>string.as.factor</code> fijada a FALSE por defecto. El anuncio oficial se hizo en el post al que apunta este tweet:</p>
<blockquote class="twitter-tweet" align="center" data-width="400" data-lang="en" data-dnt="true" data-theme="light"><p lang="da" dir="ltr">New R blog entry by Kurt Hornik: stringsAsFactors<a href="https://t.co/0h0rLvUWIQ">https://t.co/0h0rLvUWIQ</a></p>&mdash; The R Foundation (@_R_Foundation) <a href="https://twitter.com/_R_Foundation/status/1229386343995838465?ref_src=twsrc%5Etfw">February 17, 2020</a></blockquote>
<br>
<p>Ya dije que los factores se usan para representar variables categóricas y que pueden ser útiles cuando trabajas con gráficos, tablas y/o modelos estadísticos pero también son un poco raros/especiales<sup id="fnref:15"><a href="#fn:15" class="footnote-ref" role="doc-noteref">15</a></sup>.</p>
<p>Si tienes que usar factores, es mejor que lo hagas con el package 
<a href="https://forcats.tidyverse.org/" target="_blank" rel="noopener"><code>forcats</code></a>. No lo he usado, pero el paquete 
<a href="https://juba.github.io/questionr/articles/recoding_addins.html" target="_blank" rel="noopener"><code>questionr</code></a> tiene un adding para recodificar variables, entre ellos factores, en R.</p>
<p>Recodificar variables es una tarea muy común en análisis de datos y, a veces, suele ser fuente de errores. Por ejemplo, en 
<a href="https://www.datasurg.net/2019/10/15/jama-retraction-after-miscoding-new-finalfit-function-to-check-recoding/" target="_blank" rel="noopener">este post</a> nos cuentan un error en la recodificación de una variable que llevo a que un artículo tuviera que ser retirado. No se si el error de codificación llevó a errores en la vida real, pero el artículo analizaba tratamientos en pacientes hospitalizados.</p>




<h3 id="creación-de-factores">Creación de factores
  <a href="#creaci%c3%b3n-de-factores"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h3>
<p>Por ejemplo, podemos crear un vector de tipo character con 5 observaciones</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>aa <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#900;font-weight:bold">c</span>(<span style="color:#d14">&#34;lunes&#34;</span>, <span style="color:#d14">&#34;martes&#34;</span>, <span style="color:#d14">&#34;jueves&#34;</span>, <span style="color:#d14">&#34;lunes&#34;</span>, <span style="color:#d14">&#34;martes&#34;</span>)
</span></span><span style="display:flex;"><span>aa
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] &#34;lunes&#34;  &#34;martes&#34; &#34;jueves&#34; &#34;lunes&#34;  &#34;martes&#34;</span>
</span></span></code></pre></div><p>De momento <code>aa</code> es un vector de texto. Si quisiéramos convertirlo a factor podríamos hacer lo siguiente:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>aa_factor <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#900;font-weight:bold">as.factor</span>(aa)
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">is.factor</span>(aa_factor)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] TRUE</span>
</span></span></code></pre></div><p>Sí, efectivamente, ahora <code>aa_factor</code> es un vector, sí, pero es un vector especial, es un un factor. Vamos a imprimirlo para ver si ha cambiado algo.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>aa_factor
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] lunes  martes jueves lunes  martes</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; Levels: jueves lunes martes</span>
</span></span></code></pre></div><p>Sí ahora al imprimir <code>aa_factor</code>, como es un factor, R nos ofrece más información. Un factor es un vector con atributos (con más información); en concreto un factor necesariamente tiene un atributo que son los <code>levels</code>, que nos indica cuantos grupos o categorías tiene el factor y cómo se llaman las categorías. En nuestro caso <code>aa_factor</code> tiene 3 levels o categorías.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#900;font-weight:bold">levels</span>(aa_factor)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] &#34;jueves&#34; &#34;lunes&#34;  &#34;martes&#34;</span>
</span></span></code></pre></div><p>Vuelvo a repetirlo. <code>aa_factor</code> es un factor, OK. Como es un factor, resulta que es un vector con un atributo especial, los <code>levels</code> (los grupos o categorías). En nuestro caso, <code>aa_factor</code> es un vector con 5 observaciones y 3 grupos/categorias/levels. No es tan complicado.</p>
<p>En realidad, los factores sí son un poco más raros de lo que he explicado. Por razones históricas, se trataba de ahorrar memoria en el ordenador, los <code>levels</code> (o niveles )se utilizan para mostrar la información, PERO internamente la información se almacena con un vector de enteros y eso a veces genera (o generaba) cosas digamos extrañas. No importa mucho si no lo entiendes del todo. Fíjate, los factores se muestran como texto pero en realidad internamente son enteros:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>aa_factor
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] lunes  martes jueves lunes  martes</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; Levels: jueves lunes martes</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">typeof</span>(aa_factor)     <span style="color:#998;font-style:italic">#- internamente lo almacena como enteros !!</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] &#34;integer&#34;</span>
</span></span></code></pre></div><br>




<h3 id="el-orden-de-los-levels">El orden de los <code>levels</code>
  <a href="#el-orden-de-los-levels"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h3>
<p>El orden de los <code>levels</code> es importante, principalmente al hacer gráficos y tablas. Por defecto, R ordena los levels de forma alfabética y esto no siempre es adecuado. Veamos cual es el orden de los niveles en <code>aa_factor</code></p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#900;font-weight:bold">levels</span>(aa_factor)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] &#34;jueves&#34; &#34;lunes&#34;  &#34;martes&#34;</span>
</span></span></code></pre></div><p>Como por defecto los niveles se ordenan alfabéticamente, en nuestro <code>aa_factor</code> los</p>
<p>PERO hay funciones para reordenar los <code>levels</code>, por ejemplo:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#900;font-weight:bold">relevel</span>(aa_factor, <span style="color:#d14">&#34;martes&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] lunes  martes jueves lunes  martes</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; Levels: martes jueves lunes</span>
</span></span></code></pre></div><p>También podemos crear el factor directamente:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>aa_factor_2 <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#900;font-weight:bold">factor</span>(aa, levels <span style="color:#000;font-weight:bold">=</span> <span style="color:#900;font-weight:bold">c</span>(<span style="color:#d14">&#34;lunes&#34;</span>, <span style="color:#d14">&#34;martes&#34;</span>, <span style="color:#d14">&#34;jueves&#34;</span>))
</span></span><span style="display:flex;"><span>aa_factor_2
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] lunes  martes jueves lunes  martes</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; Levels: lunes martes jueves</span>
</span></span></code></pre></div><p>Aquí el orden de los levels lo hemos elegido nosotros. No hemos usado el orden alfabético sino el orden habitual en los días de la semana.</p>
<p>Ya dije que un factor es un vector con atributos. Veámoslo:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>aa <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#099">1</span><span style="color:#000;font-weight:bold">:</span><span style="color:#099">10</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">attributes</span>(aa)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; NULL</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>aa_factor_2 <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#900;font-weight:bold">factor</span>(aa, levels <span style="color:#000;font-weight:bold">=</span> <span style="color:#900;font-weight:bold">c</span>(<span style="color:#d14">&#34;lunes&#34;</span>, <span style="color:#d14">&#34;martes&#34;</span>, <span style="color:#d14">&#34;jueves&#34;</span>))
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">attributes</span>(aa_factor_2)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; $levels</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] &#34;lunes&#34;  &#34;martes&#34; &#34;jueves&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; $class</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] &#34;factor&#34;</span>
</span></span></code></pre></div><p>El objeto <code>aa_factor_2</code> es un factor de R, aunque en el fondo no es más que un vector con atributos: los “levels” y “class”</p>




<h3 id="más-cosas-sobre-factores">Más cosas sobre factores
  <a href="#m%c3%a1s-cosas-sobre-factores"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h3>
<p>Durante el curso trabajaremos con variables categóricas y, por tanto, usaremos factores. Para ello utilizaremos el paquete <code>forcats</code>. Si lo necesitáis seguro que encontráis tutoriales o cursos en la web, pero 
<a href="https://rstatisticsblog.com/r-beginners/working-with-factors-in-r-tutorial-forcats-package/?utm_source=rss&amp;utm_medium=rss&amp;utm_campaign=working-with-factors-in-r-tutorial-forcats-package" target="_blank" rel="noopener">aquí</a> tenéis uno de ellos; aunque quizás sea mejor acudir a la 
<a href="https://forcats.tidyverse.org/" target="_blank" rel="noopener">web de <code>forcats</code></a>.</p>
<p>Un buen resumen visual de qué son los factores es el siguiente mapa conceptual de 
<a href="https://github.com/spcanelon/concept-maps" target="_blank" rel="noopener">este repo</a>:</p>
<div class="figure" style="text-align: center">
<img src="https://raw.githubusercontent.com/spcanelon/concept-maps/master/en/factors.svg" alt="Creado por Ildiko Czeller y Graham Parsons" width="90%" />
<p class="caption">
Figure 2: Creado por Ildiko Czeller y Graham Parsons
</p>
</div>
<br>




<h1 id="6-listas">6. Listas
  <a href="#6-listas"></a>
</h1>
<p>Esta estructura de datos, aunque en realidad se construye por la agrupación de vectores, sí que se comporta de forma diferente a los vectores<sup id="fnref:16"><a href="#fn:16" class="footnote-ref" role="doc-noteref">16</a></sup>. Las listas son una estructura de datos heterogénea: sí que pueden contener elementos de distinto tipo.</p>
<p>La mejor forma de entender como funciona una lista es pensar que es como una cajonera. En cada cajón podemos poner diferentes cosas, encada cajón podemos poner objetos de diferentes tipos.</p>
<p>Para definir una lista se hace uso de la función <code>list()</code>. Creemos nuestra primera lista:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#998;font-style:italic"># defino 3 vectores y una matriz</span>
</span></span><span style="display:flex;"><span>vec_numerico <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#900;font-weight:bold">c</span>(<span style="color:#099">1</span><span style="color:#000;font-weight:bold">:</span><span style="color:#099">8</span>)
</span></span><span style="display:flex;"><span>vec_character <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#900;font-weight:bold">c</span>(<span style="color:#d14">&#34;Pedro&#34;</span>, <span style="color:#d14">&#34;Rebeca&#34;</span>, <span style="color:#d14">&#34;Susana&#34;</span>)
</span></span><span style="display:flex;"><span>vec_logic <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#900;font-weight:bold">c</span>(<span style="color:#000;font-weight:bold">TRUE</span>, <span style="color:#000;font-weight:bold">FALSE</span>, <span style="color:#000;font-weight:bold">TRUE</span>)
</span></span><span style="display:flex;"><span>matriz <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#900;font-weight:bold">matrix</span>(<span style="color:#099">1</span><span style="color:#000;font-weight:bold">:</span><span style="color:#099">6</span>, nrow <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">2</span>, ncol <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">3</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic"># creo una lista con cuatro elementos</span>
</span></span><span style="display:flex;"><span>my_list <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#900;font-weight:bold">list</span>(vec_numerico, vec_character, vec_logic, matriz)
</span></span><span style="display:flex;"><span>my_list
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [[1]]</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] 1 2 3 4 5 6 7 8</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [[2]]</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] &#34;Pedro&#34;  &#34;Rebeca&#34; &#34;Susana&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [[3]]</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1]  TRUE FALSE  TRUE</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [[4]]</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt;      [,1] [,2] [,3]</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1,]    1    3    5</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [2,]    2    4    6</span>
</span></span></code></pre></div><p>Podemos crear la misma lista pero añadiendo nombres a los distintos elementos. Puede sernos útil a la hora de hacer subsetting en una lista.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>my_list <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#900;font-weight:bold">list</span>(slot_1 <span style="color:#000;font-weight:bold">=</span> vec_numerico, slot_2 <span style="color:#000;font-weight:bold">=</span> vec_character, slot_3 <span style="color:#000;font-weight:bold">=</span> vec_logic, slot_4 <span style="color:#000;font-weight:bold">=</span>matriz)
</span></span><span style="display:flex;"><span>my_list
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; $slot_1</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] 1 2 3 4 5 6 7 8</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; $slot_2</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] &#34;Pedro&#34;  &#34;Rebeca&#34; &#34;Susana&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; $slot_3</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1]  TRUE FALSE  TRUE</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; $slot_4</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt;      [,1] [,2] [,3]</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1,]    1    3    5</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [2,]    2    4    6</span>
</span></span></code></pre></div><p>Las listas no tienen dimensiones tienen <code>length()</code></p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#900;font-weight:bold">length</span>(my_list) <span style="color:#998;font-style:italic">#- nuestra lista tiene 4 slots, 4 elementos</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] 4</span>
</span></span></code></pre></div><p>Las listas son sumamente flexibles porque un elemento de una lista puede ser otra lista.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>my_list_2 <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#900;font-weight:bold">list</span>(primer_slot <span style="color:#000;font-weight:bold">=</span> <span style="color:#900;font-weight:bold">c</span>(<span style="color:#099">44</span><span style="color:#000;font-weight:bold">:</span><span style="color:#099">47</span>), segundo_slot <span style="color:#000;font-weight:bold">=</span> my_list)
</span></span><span style="display:flex;"><span>my_list_2
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; $primer_slot</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] 44 45 46 47</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; $segundo_slot</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; $segundo_slot$slot_1</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] 1 2 3 4 5 6 7 8</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; $segundo_slot$slot_2</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] &#34;Pedro&#34;  &#34;Rebeca&#34; &#34;Susana&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; $segundo_slot$slot_3</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1]  TRUE FALSE  TRUE</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; $segundo_slot$slot_4</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt;      [,1] [,2] [,3]</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1,]    1    3    5</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [2,]    2    4    6</span>
</span></span></code></pre></div>



<h2 id="subsetting-en-listas">Subsetting en listas
  <a href="#subsetting-en-listas"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h2>
<p>Como las listas son más complejas, tenemos más posibilidades para hacer subsetting.</p>
<p>Tendremos 3 operadores para hacer subsetting: <code>[</code>, <code>[[</code> y <code>$</code>.</p>
<ul>
<li>Empecemos con <code>[</code>. Si hacemos subsetting con <code>[</code> el objeto devuelto siempre será otra lista.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>my_list[2]  <span style="color:#998;font-style:italic">#- seleccionamos el segundo elemento de la lista. Nos devuelve una lista con un solo slot</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; $slot_2</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] &#34;Pedro&#34;  &#34;Rebeca&#34; &#34;Susana&#34;</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>my_list<span style="color:#900;font-weight:bold">[c</span>(<span style="color:#099">2</span>,<span style="color:#099">3</span>)]  <span style="color:#998;font-style:italic">#- seleccionamos el segundo y tercer elemento de la lista. Nos devuelve una lista con dos slots</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; $slot_2</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] &#34;Pedro&#34;  &#34;Rebeca&#34; &#34;Susana&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; $slot_3</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1]  TRUE FALSE  TRUE</span>
</span></span></code></pre></div><ul>
<li>con <code>[</code> también se puede seleccionar por nombre</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>my_list[<span style="color:#d14">&#34;slot_2&#34;</span>]  <span style="color:#998;font-style:italic">#- seleccionamos el segundo elemento de la lista. Nos devuelve una lista con un solo slot</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; $slot_2</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] &#34;Pedro&#34;  &#34;Rebeca&#34; &#34;Susana&#34;</span>
</span></span><span style="display:flex;"><span>my_list<span style="color:#900;font-weight:bold">[c</span>(<span style="color:#d14">&#34;slot_2&#34;</span>, <span style="color:#d14">&#34;slot_3&#34;</span>)]  <span style="color:#998;font-style:italic">#- seleccionamos el segundo y tercer elemento de la lista. Nos devuelve una lista con dos slots</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; $slot_2</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] &#34;Pedro&#34;  &#34;Rebeca&#34; &#34;Susana&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; $slot_3</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1]  TRUE FALSE  TRUE</span>
</span></span></code></pre></div><ul>
<li>subsetting listas con <code>[[</code>. <strong>NO</strong> devuelve una lista, nos devuelve el objeto que hay en el slot seleccionado</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>my_list[[2]]  <span style="color:#998;font-style:italic">#- seleccionamos el segundo elemento de la lista. Nos devuelve el elemento que hay en el segundo slot; es decir un vector, vec_character</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] &#34;Pedro&#34;  &#34;Rebeca&#34; &#34;Susana&#34;</span>
</span></span></code></pre></div><ul>
<li>subsetting, por nombre, con <code>$</code>. No devuelve una lista, sino un elemento de la lista</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>my_list<span style="color:#000;font-weight:bold">$</span>slot_4  <span style="color:#998;font-style:italic">#- seleccionamos el cuarto elemento de la lista, cuyo nombre es `slot_4`; es decir, nos devuelve una matriz.</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt;      [,1] [,2] [,3]</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1,]    1    3    5</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [2,]    2    4    6</span>
</span></span></code></pre></div><ul>
<li>incluso se puede usar <code>[[</code> para hacer subsetting por nombre, si es que los elementos de la lista tienen nombre<sup id="fnref:17"><a href="#fn:17" class="footnote-ref" role="doc-noteref">17</a></sup></li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>my_list[[<span style="color:#d14">&#34;slot_4&#34;</span>]]  <span style="color:#998;font-style:italic">#- seleccionamos el cuarto elemento de la lista, cuyo nombre es `slot_4`; es decir, nos devuelve una matriz.</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt;      [,1] [,2] [,3]</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1,]    1    3    5</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [2,]    2    4    6</span>
</span></span></code></pre></div><p>Las listas se usan para muchas cosas; por ejemplo, para almacenar los resultados de la estimación de un modelo , etc…</p>
<p>Las listas son sumamente flexibles porque un elemento de una lista puede ser otra lista.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>my_list_2 <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#900;font-weight:bold">list</span>(primer_slot <span style="color:#000;font-weight:bold">=</span> <span style="color:#900;font-weight:bold">c</span>(<span style="color:#099">44</span><span style="color:#000;font-weight:bold">:</span><span style="color:#099">47</span>), segundo_slot <span style="color:#000;font-weight:bold">=</span> my_list)
</span></span><span style="display:flex;"><span>my_list_2
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; $primer_slot</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] 44 45 46 47</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; $segundo_slot</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; $segundo_slot$slot_1</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] 1 2 3 4 5 6 7 8</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; $segundo_slot$slot_2</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] &#34;Pedro&#34;  &#34;Rebeca&#34; &#34;Susana&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; $segundo_slot$slot_3</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1]  TRUE FALSE  TRUE</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; $segundo_slot$slot_4</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt;      [,1] [,2] [,3]</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1,]    1    3    5</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [2,]    2    4    6</span>
</span></span></code></pre></div><p>¿Cómo podemos seleccionar la matriz que hay en my_list_2? Pues la matriz es uno de los cuatro elementos que hay en el segundo slot de my_list_2. Con <code>my_lis_2[[2]]</code> seleccionamos el segundo_slot, que es una lista (my_list), y en el cuarto slot de my_list esta la matriz. Así que podríamos hacerlo de varias maneras:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>my_list_2[[2]][[4]]
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt;      [,1] [,2] [,3]</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1,]    1    3    5</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [2,]    2    4    6</span>
</span></span><span style="display:flex;"><span>my_list_2<span style="color:#000;font-weight:bold">$</span>segundo_slot<span style="color:#000;font-weight:bold">$</span>slot_4
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt;      [,1] [,2] [,3]</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1,]    1    3    5</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [2,]    2    4    6</span>
</span></span></code></pre></div><p>Para terminar con las listas, 
<a href="https://www.johndcook.com/blog/2015/12/02/r-lists-and-xml/" target="_blank" rel="noopener">aquí</a> se explica visualmente la diferencia entre hacer subsetting con <code>[</code> y hacerlo con <code>[[</code>. Además se critica un poco a XML, un lenguaje de marcado que muchas veces se utiliza para almacenar e intercambiar datos.</p>
<br>




<h1 id="7-data-frames">7. DATA FRAMES
  <a href="#7-data-frames"></a>
</h1>
<blockquote>
<p>A data frame is really a list where each element of the list is a single column. In other words, a data frame is a vector of columns</p>
</blockquote>
<p>Los data.frames son otra estructura de R para almacenar datos. Es la estructura que más utilizaremos. Se utiliza para almacenar datos tabulares, tablas de datos, que son el formato de datos al que más acostumbrados estamos, son tablas como las que vemos en Excel etc …</p>
<p>En realidad un data.frame <strong>es una lista</strong>, pero una lista especial. Al ser una lista <strong>puede almacenar elementos de distinto tipo</strong> (numéricos, carácter etc…). ¿Por qué es una lista especial? Pues porque podemos pensar que es una lista restringida, restringida a que sus elementos/slots tienen que tener la misma longitud.</p>
<p>Como en cada slot de la lista hay un vector y todos los vectores tienen la misma longitud al final tenemos una tabla de datos. Esos vectores con la misma longitud se almacenan por columnas, así que la longitud de los vectores son el número de filas de la tabla. Habitualmente los data.frames se utilizan para almacenar datos tabulares, donde cada columna es una variable.</p>
<p>Otra propiedad de los data.frames es que los vectores o columnas que lo forman tienen que tener un nombre. Como habitualmente en cada columna del data.frame se almacenan los valores de una variable, el nombre de la columnas se corresponderá con el nombre de la variable.</p>
<p>Generalmente no crearemos data.frames sino que los importaremos de repositorios de datos, por ejemplo de Eurostat o del INE, pero hoy vamos a crear uno con la función <code>data.frame()</code></p>
<p>Además, en general, en lugar de usar data.frames usaremos 
<a href="https://tibble.tidyverse.org/" target="_blank" rel="noopener">tibbles</a> o data.frames tuneados à la tidyverse. Lo veremos.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>aa <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#900;font-weight:bold">c</span>(<span style="color:#099">4</span>, <span style="color:#099">8</span>, <span style="color:#099">6</span>, <span style="color:#099">3</span>)
</span></span><span style="display:flex;"><span>bb <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#900;font-weight:bold">c</span>(<span style="color:#d14">&#34;Juan&#34;</span>, <span style="color:#d14">&#34;Paz&#34;</span>, <span style="color:#d14">&#34;Adrian&#34;</span>, <span style="color:#d14">&#34;Marquitos&#34;</span>)
</span></span><span style="display:flex;"><span>cc <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#900;font-weight:bold">c</span>(<span style="color:#000;font-weight:bold">FALSE</span>, <span style="color:#000;font-weight:bold">TRUE</span>, <span style="color:#000;font-weight:bold">TRUE</span>, <span style="color:#000;font-weight:bold">FALSE</span>)
</span></span><span style="display:flex;"><span>df <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#900;font-weight:bold">data.frame</span>(aa, bb, cc)
</span></span><span style="display:flex;"><span>df
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt;   aa        bb    cc</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; 1  4      Juan FALSE</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; 2  8       Paz  TRUE</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; 3  6    Adrian  TRUE</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; 4  3 Marquitos FALSE</span>
</span></span></code></pre></div><p>En nuestro <code>df</code> tenemos 3 variables, cada una de ellas con 4 observaciones.</p>
<p>Podemos ponerle otros nombres a las columnas, nombres que tengan sentido y que nos recuerden las variables que contienen:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>df <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#900;font-weight:bold">data.frame</span>(Nota <span style="color:#000;font-weight:bold">=</span> aa, Nombre <span style="color:#000;font-weight:bold">=</span> bb, Aprobado <span style="color:#000;font-weight:bold">=</span> cc)
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">names</span>(df)  <span style="color:#998;font-style:italic">#- con names() podemos ver los nombres de las variables del df</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] &#34;Nota&#34;     &#34;Nombre&#34;   &#34;Aprobado&#34;</span>
</span></span></code></pre></div><p>Podemos cambiar los nombres de las columnas con <code>names()</code> o de más formas, como con <code>rlang::set_names()</code> o con <code>magrittr::set_colnames()</code> como se muestra 
<a href="https://github.com/sharlagelfand/twofunctionsmostdays/tree/master/2020/03/05#purrrset_names---new-to-me" target="_blank" rel="noopener">aquí</a>.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>(<span style="color:#900;font-weight:bold">names</span>(df) <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#900;font-weight:bold">c</span>(<span style="color:#d14">&#34;Grade&#34;</span>, <span style="color:#d14">&#34;Name&#34;</span>, <span style="color:#d14">&#34;Pass&#34;</span>))
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] &#34;Grade&#34; &#34;Name&#34;  &#34;Pass&#34;</span>
</span></span></code></pre></div>



<h2 id="subsetting-en-dataframes">Subsetting en data.frames
  <a href="#subsetting-en-dataframes"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h2>
<p>La verdad es que cuando tengamos que hacer subsetting en un data.frame, lo haremos à la tidyverse, pero conviene al menos conocer lo básico de como hacer subsetting con R-base.</p>
<p>El subsetting en data.frame à la R-base es muy una mezcla entre el subsetting para matrices y para listas.</p>
<ol>
<li>Subsetting como si fuera una matriz. Con <code>[</code>.</li>
</ol>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>df_s <span style="color:#000;font-weight:bold">&lt;-</span> df[,<span style="color:#099">1</span>]       <span style="color:#998;font-style:italic">#- seleccionamos la primera columna. devuelve un vector !!!</span>
</span></span><span style="display:flex;"><span>df_s <span style="color:#000;font-weight:bold">&lt;-</span> df[,<span style="color:#900;font-weight:bold">c</span>(<span style="color:#099">2</span>,<span style="color:#099">3</span>)]  <span style="color:#998;font-style:italic">#- seleccionamos la segunda y tercera columna. devuelve un df</span>
</span></span><span style="display:flex;"><span>df_s <span style="color:#000;font-weight:bold">&lt;-</span> df[1, ]      <span style="color:#998;font-style:italic">#- seleccionamos primera fila de todas las variables. devuelve un df. ¿xq no devuelve un vector? Preguntad si no lo sabéis</span>
</span></span><span style="display:flex;"><span>df_s <span style="color:#000;font-weight:bold">&lt;-</span> df<span style="color:#900;font-weight:bold">[c</span>(<span style="color:#099">1</span>,<span style="color:#099">4</span>), ]  <span style="color:#998;font-style:italic">#- seleccionamos primera y cuarta fila. devuelve un df</span>
</span></span><span style="display:flex;"><span>df_s <span style="color:#000;font-weight:bold">&lt;-</span> df[2, <span style="color:#099">3</span>]      <span style="color:#998;font-style:italic">#- seleccionamos segunda observación de la tercera variable. Devuelve un vector.</span>
</span></span></code></pre></div><ol start="2">
<li>Subsetting como si fuera una lista. De hecho un df es una clase especial de lista. Podemos usar 3 operadores: <code>[</code>, <code>[[</code> y <code>$</code>.</li>
</ol>
<ul>
<li>subsetting con <code>[</code> como si fuera una lista</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>df_s <span style="color:#000;font-weight:bold">&lt;-</span> df[3]        <span style="color:#998;font-style:italic">#- devuelve un df. Good!!</span>
</span></span><span style="display:flex;"><span>df_s <span style="color:#000;font-weight:bold">&lt;-</span> df<span style="color:#900;font-weight:bold">[c</span>(<span style="color:#099">1</span>,<span style="color:#099">2</span>)]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#- también se puede hacer por nombre</span>
</span></span><span style="display:flex;"><span>df_s <span style="color:#000;font-weight:bold">&lt;-</span> df[<span style="color:#d14">&#34;Name&#34;</span>]                <span style="color:#998;font-style:italic">#- devuelve un df</span>
</span></span><span style="display:flex;"><span>df_s <span style="color:#000;font-weight:bold">&lt;-</span> df<span style="color:#900;font-weight:bold">[c</span>(<span style="color:#d14">&#34;Name&#34;</span>, <span style="color:#d14">&#34;Grade&#34;</span>)]   
</span></span></code></pre></div><ul>
<li>subsetting con <code>[[</code> como si fuera una lista</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>df_s <span style="color:#000;font-weight:bold">&lt;-</span> df[[2]]   <span style="color:#998;font-style:italic">#- Extraemos la segunda columna. Devuelve un vector, concretamente un factor. Ahhhh!!!!!</span>
</span></span></code></pre></div><ul>
<li>subsetting con <code>$</code>. Como si fuera una lista (por nombre de los elementos, en este caso los elementos de la lista son las columnas o variables del df)</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>df_s <span style="color:#000;font-weight:bold">&lt;-</span> df<span style="color:#000;font-weight:bold">$</span>Name   <span style="color:#998;font-style:italic">#- Extraemos la columna con nombre &#34;Name&#34;. Devuelve un vector, concretamente un factor. Ahhhh!!!!!</span>
</span></span><span style="display:flex;"><span>df_s <span style="color:#000;font-weight:bold">&lt;-</span> df<span style="color:#000;font-weight:bold">$</span>Grade  <span style="color:#998;font-style:italic">#- Extraemos la columna con nombre &#34;Grade&#34;. Devuelve un vector numérico</span>
</span></span></code></pre></div><p>Hay más formas de hacer subsetting con data.frames, por ejemplo con <code>subset()</code>, pero ya he dicho que el manejo de tablas o data.frames lo haremos principalmente con funciones del tidyverse, principalmente funciones del paquete <code>dplyr</code>. Lo veremos en otro tutorial.</p>
<ul>
<li>con <code>[</code> podemos, al igual que en los vectores y matrices, hacer subsetting lógico:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>df_s <span style="color:#000;font-weight:bold">&lt;-</span> df[df<span style="color:#000;font-weight:bold">$</span>Grade <span style="color:#000;font-weight:bold">&gt;=</span> <span style="color:#099">5</span>, ]   <span style="color:#998;font-style:italic">#- selecciono filas que cumplan que el valor de la columna grade sea &gt;= a 5</span>
</span></span><span style="display:flex;"><span>df_s <span style="color:#000;font-weight:bold">&lt;-</span> df[<span style="color:#000;font-weight:bold">!</span>df<span style="color:#000;font-weight:bold">$</span>Grade <span style="color:#000;font-weight:bold">&gt;=</span> <span style="color:#099">5</span>, ]  <span style="color:#998;font-style:italic">#- los que NO han sacado igual o mas  de 5</span>
</span></span><span style="display:flex;"><span>df_s <span style="color:#000;font-weight:bold">&lt;-</span> df[df<span style="color:#000;font-weight:bold">$</span>Grade <span style="color:#000;font-weight:bold">==</span> <span style="color:#099">8</span> <span style="color:#000;font-weight:bold">|</span> df<span style="color:#000;font-weight:bold">$</span>Grade <span style="color:#000;font-weight:bold">&lt;</span> <span style="color:#099">5</span>, ]  <span style="color:#998;font-style:italic">#- los que han sacado exactamente 8 ó menos de 5</span>
</span></span></code></pre></div>



<h2 id="funciones-útiles">Funciones útiles
  <a href="#funciones-%c3%batiles"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h2>
<p>Hay muchas, por ejemplo:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#900;font-weight:bold">names</span>(df)    <span style="color:#998;font-style:italic">#- devuelve un vector con los nombre de las columnas/variables del df</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] &#34;Grade&#34; &#34;Name&#34;  &#34;Pass&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">nrow</span>(df)     <span style="color:#998;font-style:italic">#- devuelve el nº de filas</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] 4</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">ncol</span>(df)     <span style="color:#998;font-style:italic">#- nº de columnas</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] 3</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">length</span>(df)   <span style="color:#998;font-style:italic">#- la longitud de las columnas/vectores que componen el df; osea devuelve otra vez el nº de filas</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] 3</span>
</span></span></code></pre></div><p>Podemos añadir columnas a nuestro df:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>aa <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#099">101</span><span style="color:#000;font-weight:bold">:</span><span style="color:#099">104</span>
</span></span><span style="display:flex;"><span>df<span style="color:#000;font-weight:bold">$</span>new_v <span style="color:#000;font-weight:bold">&lt;-</span> aa
</span></span></code></pre></div><p>También así:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>df_new <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#900;font-weight:bold">cbind</span>(df, aa)
</span></span></code></pre></div><p>Con la función <code>as.data.frame()</code>, podemos convertir un vector o una matriz, e incluso algunas listas, en data.frames.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>aa <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#099">1</span><span style="color:#000;font-weight:bold">:</span><span style="color:#099">5</span>
</span></span><span style="display:flex;"><span>df_new <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#900;font-weight:bold">as.data.frame</span>(aa)  <span style="color:#998;font-style:italic">#- df con una sola columna</span>
</span></span></code></pre></div><p>Un resumen del dataframe con <code>summary()</code></p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#900;font-weight:bold">summary</span>(df)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt;      Grade          Name              Pass             new_v      </span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt;  Min.   :3.00   Length:4           Mode :logical   Min.   :101.0  </span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt;  1st Qu.:3.75   Class :character   FALSE:2         1st Qu.:101.8  </span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt;  Median :5.00   Mode  :character   TRUE :2         Median :102.5  </span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt;  Mean   :5.25                                      Mean   :102.5  </span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt;  3rd Qu.:6.50                                      3rd Qu.:103.2  </span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt;  Max.   :8.00                                      Max.   :104.0</span>
</span></span></code></pre></div><p>Y muchas más.</p>




<h1 id="8-paquetes-packages">8. Paquetes (packages)
  <a href="#8-paquetes-packages"></a>
</h1>
<p>Ya sabemos que R tiene muchos paquetes, ya hemos utilizado alguno. ¿Que qué son los paquetes? Pues son colecciones/porciones de código R que podemos instalar en nuestro ordenador y después cargar en nuestra sesión. ¿Qué ganamos con ello? Los paquetes nos proveen de nuevas funciones o nuevos datos; es decir incrementa la funcionalidad de R: R podrá hacer más cosas. Es como instalar una nueva app en tu teléfono.</p>
<p>Imagina que quieres usar R para analizar datos de Eurostat. En ese caso podemos ir directamente a la web de Eurostat, pero es mucho más cómodo instalarnos el paquete 
<a href="https://ropengov.github.io/eurostat/" target="_blank" rel="noopener"><code>eurostat</code></a> que contiene una serie de funciones que nos facilitan el uso de datos de Eurostat en R; o a lo mejor quieres analizar datos relacionados con la pandemia covid-19. Podrías tratar de recopilar datos por ti mismo pero existen unos cuantos paquetes que ya lo han hecho, por ejemplo, para datos españoles, el paquete 
<a href="https://github.com/montera34/escovid19data" target="_blank" rel="noopener"><code>escovid19data</code></a>.</p>
<p>Para poder usar un paquete ya sabéis que hay que hacer 2 cosas:</p>
<ol>
<li>
<p>Instalar el package en tu ordenador. Sólo hace falta hacerlo una vez. Generalmente con <code>install.packages(&quot;my_pkg&quot;)</code></p>
</li>
<li>
<p>Cargar el paquete en memoria. Cada vez que vayas a usar un paquete tendrás que abrirlo, tendrás que hacer accesible el paquete a la memoria de R con library(“my_pkg”).</p>
</li>
</ol>
<br>




<h4 id="instalación-de-paquetes">Instalación de paquetes
  <a href="#instalaci%c3%b3n-de-paquetes"></a>
</h4>
<p>Ya sabes que hay un repositorio oficial de paquetes, 
<a href="https://cran.r-project.org/" target="_blank" rel="noopener">CRAN</a>; pero hay muchos otros repositorios, uno de los más famosos y utilizados es 
<a href="https://github.com/" target="_blank" rel="noopener">Github</a>.</p>
<p>Para instalar un paquete de CRAN tienes que usar <code>install.packages()</code>.</p>
<p>Para instalar paquetes de otros repositorios se pueden utilizar varios paquetes, pero yo últimamente estoy usando el paquete 
<a href="https://github.com/r-lib/remotes#readme" target="_blank" rel="noopener"><code>remotes</code></a>. El paquete <code>remotes</code> permite instalar paquetes alojados en GitHub, GitLab, Bitbucket, etc…</p>
<p>Por ejemplo para instalar un paquete de Github se utiliza: <code>remotes::install_github(&quot;usuario/package&quot;)</code>. Por ejemplo, para instalar el paquete 
<a href="https://github.com/hadley/emo" target="_blank" rel="noopener"><code>emo</code></a> del usuario 
<a href="https://github.com/hadley" target="_blank" rel="noopener"><code>hadley</code></a> se haría lo siguiente: <code>remotes::install_github(&quot;hadley/emo&quot;)</code>.</p>
<br>




<h4 id="obtener-información-sobre-un-pkg">Obtener información sobre un pkg
  <a href="#obtener-informaci%c3%b3n-sobre-un-pkg"></a>
</h4>
<p>Instalar un paquete es sencillo, pero para usarlo, generalmente, tendrás que acceder a la documentación del paquete. Los paquetes tienen mucha información sobre como usar sus funciones, sólo hay que saber buscarla.</p>
<p>Veamos un ejemplo concreto. Supongamos que queremos usar el paquete 
<a href="https://ropengov.github.io/eurostat/" target="_blank" rel="noopener"><code>eurostat</code></a>. Para conocer que funcionalidades tiene este paquete y cómo usar sus funciones tenemos varias alternativas:</p>
<ol>
<li>
<p>Si el paquete está en CRAN, pues ir a su página web en CRAN. El paquete. <code>eursotat</code> sí está alojado en CRAN, concretamente 
<a href="https://cran.r-project.org/web/packages/eurostat/index.html" target="_blank" rel="noopener">aquí</a>, y hacía el final de esa página está la documentación. Todos los packages en CRAN tienen un <strong>Reference Manual</strong>: un pdf con documentación extensa de cada una de las funciones del pkg. Habitualmente los packages también tienen unos documentos llamados <strong>vignettes</strong> que explican de forma más genérica para qué sirve y cómo se usa el paquete.</p>
</li>
<li>
<p>Además de en CRAN, es muy habitual que los paquetes estén alojados en otros repositorios, generalmente en Github. <code>eurostat</code> está alojado en Github 
<a href="https://github.com/rOpenGov/eurostat" target="_blank" rel="noopener">aquí</a></p>
</li>
<li>
<p>Cada vez es más frecuente que los paquetes tengan su propia página web donde ese explica detalladamente las funcionalidades del paquete. Si un paquete tiene página web, visitarla suele ser la mejor opción para aprender como usarlo. Por ejemplo, la página web del pkg <code>eurostat</code> está 
<a href="https://ropengov.github.io/eurostat/" target="_blank" rel="noopener">aquí</a>.</p>
</li>
</ol>




<h4 id="información-interna-sobre-un-pkg">Información interna sobre un pkg
  <a href="#informaci%c3%b3n-interna-sobre-un-pkg"></a>
</h4>
<p>Además de poder buscar ayuda sobre un package en la web, se puede acceder a la documentación de un paquete , tanto al reference manual como a las vignettes, directamente desde R/RStudio. Tienes que hacer lo siguiente:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#998;font-style:italic">#- abrimos en RStudio la ayuda del pkg eurostat</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">help</span>(package <span style="color:#000;font-weight:bold">=</span> eurostat)
</span></span></code></pre></div><p><strong>Además</strong>, recordad que ya sabemos que cada función tiene su propia ayuda interna. Puedes acceder a ella con <code>help(nombre_de_la_funcion)</code> o situando el cursor en el nombre de la función y pulsar la tecla <kbd>F1</kbd></p>
<br>




<h4 id="obtener-un-listado-de-las-funciones-de-un-pkg">Obtener un listado de las funciones de un pkg
  <a href="#obtener-un-listado-de-las-funciones-de-un-pkg"></a>
</h4>
<p>Hay varias formas, pero esta funciona:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#900;font-weight:bold">library</span>(tidyverse)
</span></span><span style="display:flex;"><span>aa <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#900;font-weight:bold">as.data.frame</span>(<span style="color:#900;font-weight:bold">ls</span>(<span style="color:#d14">&#34;package:readr&#34;</span>, all <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">TRUE</span>))
</span></span></code></pre></div><br>




<h4 id="cómo-saber-a-que-package-pertenece-una-función">¿Cómo saber a que package pertenece una función?
  <a href="#c%c3%b3mo-saber-a-que-package-pertenece-una-funci%c3%b3n"></a>
</h4>
<p>A veces es conveniente saber a que package pertenece una función. Podemos hacerlo con:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#998;font-style:italic">#- usamos la función&#34;find&#34; para encontrar en que package está la función &#34;mean&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">find</span>(<span style="color:#d14">&#34;mean&#34;</span>)
</span></span></code></pre></div><br>
<hr>




<h1 id="9-más-cosas-a-conocer">9. Más cosas a conocer
  <a href="#9-m%c3%a1s-cosas-a-conocer"></a>
</h1>
<p>En esta sección presentaré algunas ideas y tópicos que creo pueden seros de utilidad.</p>




<h2 id="algunas-funciones-útiles">Algunas funciones útiles
  <a href="#algunas-funciones-%c3%batiles"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h2>
<ul>
<li><code>%in%</code>: retorna un vector de booleans (TRUE or FALSE) para cada uno de los valores del vector a la izquierda dependiendo de si el valor se encuentra o no en el vector de la derecha.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">?</span>`%in%`  <span style="color:#998;font-style:italic">#- para ver la ayuda del operador</span>
</span></span><span style="display:flex;"><span><span style="color:#099">1</span><span style="color:#000;font-weight:bold">:</span><span style="color:#099">10</span> <span style="color:#000;font-weight:bold">%in%</span> <span style="color:#900;font-weight:bold">c</span>(<span style="color:#099">1</span>,<span style="color:#099">3</span>,<span style="color:#099">5</span>,<span style="color:#099">9</span>)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt;  [1]  TRUE FALSE  TRUE FALSE  TRUE FALSE FALSE FALSE  TRUE FALSE</span>
</span></span></code></pre></div><ul>
<li><code>str()</code>: muestra la estructura de un objeto</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#900;font-weight:bold">str</span>(iris)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; &#39;data.frame&#39;:	150 obs. of  5 variables:</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt;  $ Sepal.Length: num  5.1 4.9 4.7 4.6 5 5.4 4.6 5 4.4 4.9 ...</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt;  $ Sepal.Width : num  3.5 3 3.2 3.1 3.6 3.9 3.4 3.4 2.9 3.1 ...</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt;  $ Petal.Length: num  1.4 1.4 1.3 1.5 1.4 1.7 1.4 1.5 1.4 1.5 ...</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt;  $ Petal.Width : num  0.2 0.2 0.2 0.2 0.2 0.4 0.3 0.2 0.2 0.1 ...</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt;  $ Species     : Factor w/ 3 levels &#34;setosa&#34;,&#34;versicolor&#34;,..: 1 1 1 1 1 1 1 1 1 1 ...</span>
</span></span></code></pre></div><br>
<br>




<h2 id="directorio-de-trabajo">Directorio de trabajo
  <a href="#directorio-de-trabajo"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h2>
<p>Cuando trabajamos con R es importante conocer la noción de directorio de trabajo. Es la carpeta donde R busca por defecto cuando le pidas que abra unos datos o donde los grabará.Muchas veces tendremos que importar o exportar datos así que tenemos que conocer cual es nuestro directorio de trabajo y cómo podemos cambiarlo.</p>
<ul>
<li>
<p>Para conocer el directorio de trabajo actual usa la función <code>getwd()</code></p>
</li>
<li>
<p>Si quisiéramos cambiar el directorio de trabajo podemos hacerlo con la función <code>setwd()</code></p>
</li>
</ul>
<p>Nosotros trabajaremos con Rprojects y el paquete <code>here</code> así que generalmente no necesitaremos estas funciones pero conviene conocerlas.</p>
<p>Cuando trabajas con Rprojects, el directorio de trabajo es la propia carpeta del proyecto. La ventaja de esto es que en lugar de rutas absolutas podemos usar rutas relativas y esto facilita la reproducibilidad de nuestros análisis.</p>
<p>Además de trabajar con proyectos usaremos, al meno yo, la función <code>here()</code> del paquete <code>here</code>. La razón es que quiero poder knitear los .Rmd desde cualquier carpeta del proyecto.</p>
<br>




<h2 id="nas-y-valores-especiales">NA’s y valores especiales
  <a href="#nas-y-valores-especiales"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h2>
<p>Recordáis que en una sección anterior dijimos que los principales tipos de datos son 3: numéricos, de texto y lógicos, pero que existían unos valores especiales: <code>NULL</code>, <code>NA</code>, <code>NaN</code> e <code>Inf</code>. Veámoslos un poco:</p>
<ul>
<li><code>NULL</code>: representa el objeto vacío en R. No se propaga.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#900;font-weight:bold">c</span>()
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; NULL</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">sum</span>(<span style="color:#099">2</span>, <span style="color:#099">2</span>, <span style="color:#000;font-weight:bold">NULL</span>)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] 4</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">mean</span>(<span style="color:#900;font-weight:bold">c</span>(<span style="color:#099">2</span> ,<span style="color:#099">4</span>, <span style="color:#000;font-weight:bold">NULL</span>))
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] 3</span>
</span></span></code></pre></div><ul>
<li><code>NA</code>: Un valor no disponible. Sí se propaga, así que cuando tengamos que calcular medias etc… con vectores que contengan NAs hay que tener cuidado, habrá que usar la opción <code>na.rm = TRUE</code>.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#900;font-weight:bold">sum</span>(<span style="color:#099">2</span>, <span style="color:#099">2</span>, <span style="color:#000;font-weight:bold">NA</span>)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] NA</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">mean</span>(<span style="color:#900;font-weight:bold">c</span>(<span style="color:#099">2</span> ,<span style="color:#099">4</span>, <span style="color:#000;font-weight:bold">NA</span>))
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] NA</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">mean</span>(<span style="color:#900;font-weight:bold">c</span>(<span style="color:#099">2</span>, <span style="color:#099">4</span>, <span style="color:#000;font-weight:bold">NA</span>), na.rm <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">TRUE</span>)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] 3</span>
</span></span></code></pre></div><ul>
<li><code>NaN</code>: Not a number. Se propaga</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#099">0</span><span style="color:#000;font-weight:bold">/</span><span style="color:#099">0</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] NaN</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">sum</span>(<span style="color:#099">2</span>, <span style="color:#099">2</span>, <span style="color:#000;font-weight:bold">NaN</span>)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] NaN</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">mean</span>(<span style="color:#900;font-weight:bold">c</span>(<span style="color:#099">2</span> ,<span style="color:#099">4</span>, <span style="color:#099">0</span><span style="color:#000;font-weight:bold">/</span><span style="color:#099">0</span>))
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] NaN</span>
</span></span></code></pre></div><ul>
<li><code>Infinito</code>:</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#099">1</span><span style="color:#000;font-weight:bold">/</span><span style="color:#099">0</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] Inf</span>
</span></span><span style="display:flex;"><span><span style="color:#099">-1</span><span style="color:#000;font-weight:bold">/</span><span style="color:#099">0</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] -Inf</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">sum</span>(<span style="color:#099">2</span>, <span style="color:#099">2</span>, <span style="color:#000;font-weight:bold">Inf</span>)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] Inf</span>
</span></span></code></pre></div>



<h2 id="secuencias-1">Secuencias
  <a href="#secuencias-1"><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">
      <path d="M0 0h24v24H0z" fill="currentColor"></path>
      <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"></path>
    </svg></a>
</h2>
<p>Muchas veces hay que crear secuencias de números. Para ello disponemos de las funciones <code>:</code>, <code>seq()</code> y <code>rep()</code>. Por ejemplo:</p>
<ul>
<li>con <code>:</code> el incremento siempre es unitario. Devuelve enteros.</li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#099">1</span><span style="color:#000;font-weight:bold">:</span><span style="color:#099">3</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] 1 2 3</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">c</span>(<span style="color:#099">1</span><span style="color:#000;font-weight:bold">:</span><span style="color:#099">4</span>)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] 1 2 3 4</span>
</span></span><span style="display:flex;"><span><span style="color:#099">-2</span><span style="color:#000;font-weight:bold">:</span><span style="color:#099">3</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] -2 -1  0  1  2  3</span>
</span></span><span style="display:flex;"><span><span style="color:#099">4</span><span style="color:#000;font-weight:bold">:</span><span style="color:#099">-1</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1]  4  3  2  1  0 -1</span>
</span></span></code></pre></div><ul>
<li><code>seq()</code></li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#900;font-weight:bold">seq</span>(from <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">0</span>, to <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">5</span>, by <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">1</span>)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] 0 1 2 3 4 5</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">seq</span>(<span style="color:#099">-5</span>, <span style="color:#099">5</span>, <span style="color:#099">2</span>)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] -5 -3 -1  1  3  5</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">seq</span>(<span style="color:#099">0</span>, <span style="color:#099">1</span>, length.out <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">3</span>)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] 0.0 0.5 1.0</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">seq</span>(<span style="color:#099">0</span>, <span style="color:#099">1</span>, length.out <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">5</span>)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] 0.00 0.25 0.50 0.75 1.00</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">seq</span>(<span style="color:#099">0</span>, <span style="color:#099">1</span>, <span style="color:#099">5</span>)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] 0</span>
</span></span></code></pre></div><ul>
<li><code>rep()</code></li>
</ul>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#900;font-weight:bold">rep</span>(<span style="color:#099">2</span>, times<span style="color:#000;font-weight:bold">=</span> <span style="color:#099">3</span>)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] 2 2 2</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">rep</span>(<span style="color:#099">1</span><span style="color:#000;font-weight:bold">:</span><span style="color:#099">3</span>, <span style="color:#099">2</span>)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] 1 2 3 1 2 3</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">rep</span>(<span style="color:#099">1</span><span style="color:#000;font-weight:bold">:</span><span style="color:#099">3</span>, each <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">2</span>)       <span style="color:#998;font-style:italic"># not the same.</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] 1 1 2 2 3 3</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">rep</span>(<span style="color:#099">1</span><span style="color:#000;font-weight:bold">:</span><span style="color:#099">3</span>, times <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">3</span>, each <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">2</span>)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt;  [1] 1 1 2 2 3 3 1 1 2 2 3 3 1 1 2 2 3 3</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">rep</span>(<span style="color:#099">1</span><span style="color:#000;font-weight:bold">:</span><span style="color:#099">2</span>, length.out <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">9</span>)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] 1 2 1 2 1 2 1 2 1</span>
</span></span></code></pre></div><br>




<h1 id="10-algunos-chunks">10. Algunos chunks
  <a href="#10-algunos-chunks"></a>
</h1>
<ol>
<li>Eliminar todos los objetos del Global Environment <strong>EXCEPTO</strong> los que tú decidas.</li>
</ol>
<p>Para eliminar un objeto de la memoria puedes usar la función <code>rm()</code>. Para quitar un objeto solo has de hacer <code>rm(objeto)</code>, pero si quieres eliminar todos los objetos excepto los que necesites:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>aa <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#099">1</span>
</span></span><span style="display:flex;"><span>bb <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#099">2</span>
</span></span><span style="display:flex;"><span>cc <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#099">3</span>
</span></span><span style="display:flex;"><span>dd <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#099">4</span>
</span></span><span style="display:flex;"><span>quiero_dejar_estos <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#900;font-weight:bold">c</span>(<span style="color:#d14">&#34;cc&#34;</span>, <span style="color:#d14">&#34;dd&#34;</span>)                <span style="color:#998;font-style:italic">#- fíjate que los nombres de los objetos están entre comillas</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">rm</span>(list <span style="color:#000;font-weight:bold">=</span> <span style="color:#900;font-weight:bold">ls</span>()[<span style="color:#000;font-weight:bold">!</span>(<span style="color:#900;font-weight:bold">ls</span>() <span style="color:#000;font-weight:bold">%in%</span> quiero_dejar_estos)])   <span style="color:#998;font-style:italic">#- remueve todo excepto quiero_dejar_estos</span>
</span></span></code></pre></div><ol start="2">
<li>Función para comparar los elementos de dos vectores.</li>
</ol>
<p>Inspirados por 
<a href="https://twitter.com/tyluRp/status/1197634755430367235" target="_blank" rel="noopener">este tweet</a> vamos a crear nuestra primera función:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>my_f_compare <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#900;font-weight:bold">function</span>(x, y){
</span></span><span style="display:flex;"><span>  <span style="color:#900;font-weight:bold">list</span>(
</span></span><span style="display:flex;"><span>  <span style="color:#d14">&#34;Valores de X q. no están en Y:&#34;</span> <span style="color:#000;font-weight:bold">=</span> <span style="color:#900;font-weight:bold">setdiff</span>(x, y),
</span></span><span style="display:flex;"><span>  <span style="color:#d14">&#34;Valores de Y q. no están en X:&#34;</span> <span style="color:#000;font-weight:bold">=</span> <span style="color:#900;font-weight:bold">setdiff</span>(y, x),
</span></span><span style="display:flex;"><span>  <span style="color:#d14">&#34;Valores comunes en X e Y:&#34;</span> <span style="color:#000;font-weight:bold">=</span> <span style="color:#900;font-weight:bold">intersect</span>(x, y),
</span></span><span style="display:flex;"><span>  <span style="color:#d14">&#34;La unión de X e Y sería:&#34;</span> <span style="color:#000;font-weight:bold">=</span> <span style="color:#900;font-weight:bold">union</span>(x,y), 
</span></span><span style="display:flex;"><span>  <span style="color:#d14">&#34;Si juntamos X e Y obtenemos:&#34;</span> <span style="color:#000;font-weight:bold">=</span> <span style="color:#900;font-weight:bold">c</span>(x, y) )
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Trata de entenderlo Paul</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>XX <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#900;font-weight:bold">c</span>(<span style="color:#099">1</span><span style="color:#000;font-weight:bold">:</span><span style="color:#099">4</span>)
</span></span><span style="display:flex;"><span>YY <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#900;font-weight:bold">c</span>(<span style="color:#099">3</span><span style="color:#000;font-weight:bold">:</span><span style="color:#099">6</span>)
</span></span><span style="display:flex;"><span>aa <span style="color:#000;font-weight:bold">&lt;-</span> <span style="color:#900;font-weight:bold">my_f_compare</span>(XX, YY)
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">names</span>(aa)
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] &#34;Valores de X q. no están en Y:&#34; &#34;Valores de Y q. no están en X:&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [3] &#34;Valores comunes en X e Y:&#34;      &#34;La unión de X e Y sería:&#34;      </span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [5] &#34;Si juntamos X e Y obtenemos:&#34;</span>
</span></span><span style="display:flex;"><span>aa
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; $`Valores de X q. no están en Y:`</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] 1 2</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; $`Valores de Y q. no están en X:`</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] 5 6</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; $`Valores comunes en X e Y:`</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] 3 4</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; $`La unión de X e Y sería:`</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] 1 2 3 4 5 6</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; </span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; $`Si juntamos X e Y obtenemos:`</span>
</span></span><span style="display:flex;"><span><span style="color:#998;font-style:italic">#&gt; [1] 1 2 3 4 3 4 5 6</span>
</span></span></code></pre></div><br>




<h1 id="11-r-410">11. R 4.1.0
  <a href="#11-r-410"></a>
</h1>
<p>Con la llegada de R 4.1.0 se produjo un cambio importante en la comunidad R: apareció la <strong>pipe nativa</strong> <code>&gt;|</code><sup id="fnref:18"><a href="#fn:18" class="footnote-ref" role="doc-noteref">18</a></sup>. Una comparación exhaustiva de la pipe nativa con la pipe de magrittr puede encontrarse 
<a href="https://michaelbarrowman.co.uk/post/the-new-base-pipe/" target="_blank" rel="noopener">aquí</a></p>
<p>La pipe original ( %&gt;% ), la de Stefan Bache en el paquete magrittr, es un operador fundamental para el tidyverse que ha cambiado la forma de escribir código en R. ¿Sustituirá la pipe nativa ( |&gt; ) a la original ( %&gt;% ), ¿lo veremos?</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span>mtcars <span style="color:#000;font-weight:bold">|&gt;</span> <span style="color:#900;font-weight:bold">group_by</span>(cyl) <span style="color:#000;font-weight:bold">|&gt;</span> <span style="color:#900;font-weight:bold">summarise</span>(mpg <span style="color:#000;font-weight:bold">=</span> <span style="color:#900;font-weight:bold">mean</span>(mpg))
</span></span></code></pre></div><p>Una ventaja evidente del pipe nativa es que es nativa, se puede usar sin tener que instalar ni cargar ningún paquete, menos dependencias!!; además, solo está compuesta de 2 caracteres frente a los 3 de la original.</p>
<p>Una desventaja de la nativa es que no puede usar <code>.</code> como placeholder para llevar el objeto de la izquierda a, por ejemplo, el segundo o tercer argumento de la función de la derecha. Por ejemplo, no se puede hacer esto con la pipe nativa:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#099">2</span> <span style="color:#000;font-weight:bold">%&gt;%</span> <span style="color:#900;font-weight:bold">head</span>(iris, n <span style="color:#000;font-weight:bold">=</span> .)
</span></span></code></pre></div><p>La forma de solucionarlo es usar funciones anónimas (un poco feo!!):</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#099">2</span> <span style="color:#000;font-weight:bold">|&gt;</span> (<span style="color:#900;font-weight:bold">function</span>(x) <span style="color:#900;font-weight:bold">head</span>(iris, n <span style="color:#000;font-weight:bold">=</span> x)
</span></span></code></pre></div><p>Lo anterior mejora un poco (la verdad es que bien poco) si usamos la nueva sintaxis (shorthand) para funciones anónimas o lambda functions<sup id="fnref:19"><a href="#fn:19" class="footnote-ref" role="doc-noteref">19</a></sup>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#998;font-style:italic">#- estas dos lineas producen idénticos resultados</span>
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">function</span>(x) x <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span> 
</span></span><span style="display:flex;"><span><span style="color:#900;font-weight:bold">\</span>(x) x <span style="color:#000;font-weight:bold">+</span> <span style="color:#099">1</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-r" data-lang="r"><span style="display:flex;"><span><span style="color:#099">2</span> <span style="color:#000;font-weight:bold">|&gt;</span> (<span style="color:#900;font-weight:bold">\</span>(x) <span style="color:#900;font-weight:bold">head</span>(iris, x <span style="color:#000;font-weight:bold">=</span> n))()
</span></span></code></pre></div><p>Aunque en 
<a href="https://twitter.com/matthiasgomolka/status/1404821668695007237" target="_blank" rel="noopener">este tweet</a> se dice que si puedes llevar el objeto de la izquierda aun argumento distinto del primero, si los anteriores argumentos tienen puesto el nombre, ya que “The pipe pipes into the first unnamed argument, I guess.”</p>




<h1 id="biblio">Biblio
  <a href="#biblio"></a>
</h1>
<ul>
<li>
<p>
<a href="https://rstudio.com/wp-content/uploads/2016/10/r-cheat-sheet-3.pdf" target="_blank" rel="noopener">Base R Cheat Sheet</a> (
<a href="https://github.com/saghirb/Getting-Started-in-R%29" target="_blank" rel="noopener">https://github.com/saghirb/Getting-Started-in-R)</a>. Una buena chuleta de 2 páginas con las principales ideas y funciones para iniciarse con R. Hay muchas más, por ejemplo, 
<a href="%28https://github.com/saghirb/Getting-Started-in-R%29">esta</a> o 
<a href="http://datasciencefree.com/basicR.pdf" target="_blank" rel="noopener">esta</a>.</p>
</li>
<li>
<p>
<a href="http://arrgh.tim-smith.us/" target="_blank" rel="noopener">aRrgh: a newcomer’s (angry) guide to R</a>: un pitonista (programador que usa Phyton) que se queja y describe las cosas de R que él ve raras (gotchas); aunque va admitiendo, poco a poco, que le va empezando a gustar R.</p>
</li>
<li>
<p>
<a href="https://craig.rbind.io/post/2020-08-29-asgr-2-4-factors/" target="_blank" rel="noopener">forcats for factors</a>. Un artículo sencillo y actual sobre factores.</p>
</li>
</ul>
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p>De momento no estoy empleando la terminología correcta&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:2">
<p>También se puede utilizar el operador <code>=</code> pero, en general, la comunidad R usa <strong><code>&lt;-</code></strong>.&#160;<a href="#fnref:2" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:3">
<p>En realidad son 6 porque R tiene también complex y raw types&#160;<a href="#fnref:3" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:4">
<p>Sin embargo, si elevas un NA a cero, el resultado sera 1, porque todo número elevado a cero es 1. De la misma manera si ejecutas <code>NA | TRUE</code> devolverá TRUE&#160;<a href="#fnref:4" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:5">
<p>R no entiende el concepto de escalar. Entre sus estructuras de datos no están los escalares. para R el número 9 es en realidad un vector con un solo elemento con valor 9&#160;<a href="#fnref:5" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:6">
<p>Un array es muy similar a matrix, sólo que una matriz solo puede tener 2 dimensiones, filas y columnas, mientras que un array puede tener más de 2 dimensiones; es decir, las array son matrices mutidimensionales&#160;<a href="#fnref:6" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:7">
<p>Aquí puedes consultar la especificación oficial del lenguaje R: 
<a href="https://cran.r-project.org/doc/manuals/r-release/R-lang.html" target="_blank" rel="noopener">https://cran.r-project.org/doc/manuals/r-release/R-lang.html</a>&#160;<a href="#fnref:7" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:8">
<p>De hecho en R no existen los escalares: para R un núnico numero es un vector de 1 elemento&#160;<a href="#fnref:8" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:9">
<p>En realidad 6 si incluimos complex y raw types&#160;<a href="#fnref:9" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:10">
<p>Augmented porque se construyen, a partir los vectores fundamentales, añadiendo información extra en los atributos del vector original o fundamental!! Si cuesta un poco entenderlo!! Con tener una ligera idea es suficiente&#160;<a href="#fnref:10" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:11">
<p>Lo importante a saber de un factor es qué se puede hacer con él, lo veremos!!, y no tanto saber que un factor es realidad un vector de integers pero que como tiene un atributo que dice que su class es factor entonces se comporta de forma especial ante algunas funciones.&#160;<a href="#fnref:11" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:12">
<p>de hecho cuando hacíamos <code>sqrt(9)</code> también introducíamos un vector porque, para R, 9 es un vector de un sólo elemento&#160;<a href="#fnref:12" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:13">
<p>Esta sección se me ocurrió introducirla tras leer el libro 
<a href="https://smac-group.github.io/ds/data.html#useful-functions-with-vectors" target="_blank" rel="noopener">https://smac-group.github.io/ds/data.html#useful-functions-with-vectors</a>&#160;<a href="#fnref:13" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:14">
<p>Esta historia os la contaré en clase&#160;<a href="#fnref:14" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:15">
<p>Se usan para representar variables categóricas, pero internamente la información se almacena en un vector de enteros, PERO tienen también un vector de caracteres o <code>levels</code> que se utiliza para mostrar la información. Buff, lo explicaré en clase&#160;<a href="#fnref:15" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:16">
<p>Aunque en realidad las listas se construye por la agrupación recursiva de vectores.&#160;<a href="#fnref:16" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:17">
<p>Hadley nos avisa que esta forma de hacer subsetting por nombre es mejor porque <code>$</code> hace partial matching.&#160;<a href="#fnref:17" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:18">
<p>Como se dice 
<a href="https://eliocamp.github.io/codigo-r/en/2021/05/r-pipa-nativa/" target="_blank" rel="noopener">aquí</a>, la versión 4.0 ya vino con un cambio histórico: se acabo con <code>stringAsFactors = TRUE</code>. Además el post sugiere una solución para la falta de placeholder en la pipe nativa&#160;<a href="#fnref:18" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
<li id="fn:19">
<p>
<a href="https://twitter.com/rabaath/status/1335226691304775681" target="_blank" rel="noopener">Aquí</a> un hilo de Twitter sobre las lambda functions&#160;<a href="#fnref:19" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>

      </section>
      <footer class="post-footer">
        <div class="post-pagination dt w-100 mt4 mb2">
  
  
    <a class="prev dtc pr2 tl v-top fw6"
    href="https://achalmaedison.netlify.app/collection/2023-01-07-ciencia-de-datos/tema-2-r-rstudio-y-forma-de-trabajar/">&larr; Tema 2. R, RStudio y forma de trabajar</a>
  
  
  
    <a class="next dtc pl2 tr v-top fw6"
    href="https://achalmaedison.netlify.app/collection/2023-01-07-ciencia-de-datos/tema-4-importar-y-exportar-datos-con-r/">Tema 4: Importar (y exportar) datos con R &rarr;</a>
  
</div>

      </footer>
    </article>
    
  </section>
</main>

<aside class="page-sidebar" role="complementary">
                         
 











  <img src="/collection/featured-sidebar.jpg" class="db ma0">

                         
 



<div class="flex items-start sticky ph4 pb4 flex-row">
  <div class="w-two-thirds w-50-l ph0">
    <h2 class="mv3 f5 fw7 ttu tracked">
      <a class="no-underline dim" href="/collection/">Outline</a></h2>
    <nav id="SectionTableOfContents" aria-label="SectionTableOfContents">
        <ul>
        
          
          
          <li class="" hugo-nav="/collection/prework/">
            <a href="https://achalmaedison.netlify.app/collection/prework/">Prework</a></li>
          
          </li>
        
          
          
          
          <details  class="">
            <summary class="" hugo-nav="/collection/day01/"><a href="https://achalmaedison.netlify.app/collection/day01/">Day 01</a></summary>
            
              
              <li class="" hugo-nav="/collection/day01/01-github/"><a href="https://achalmaedison.netlify.app/collection/day01/01-github/">A GitHub profile</a></li>
            
              
              <li class="" hugo-nav="/collection/day01/02-postcards/"><a href="https://achalmaedison.netlify.app/collection/day01/02-postcards/">A postcard</a></li>
            
              
              <li class="" hugo-nav="/collection/day01/03-distill/"><a href="https://achalmaedison.netlify.app/collection/day01/03-distill/">A distill site</a></li>
            
          </details>
          
          </li>
        
          
          
          
          <details  class="">
            <summary class="" hugo-nav="/collection/day02/"><a href="https://achalmaedison.netlify.app/collection/day02/">Day 02</a></summary>
            
              
              <li class="" hugo-nav="/collection/day02/01-netlify/"><a href="https://achalmaedison.netlify.app/collection/day02/01-netlify/">Netlify</a></li>
            
              
              <li class="" hugo-nav="/collection/day02/02-blogdown/"><a href="https://achalmaedison.netlify.app/collection/day02/02-blogdown/">Using blogdown</a></li>
            
              
              <li class="" hugo-nav="/collection/day02/03-blogdown/"><a href="https://achalmaedison.netlify.app/collection/day02/03-blogdown/">Warm woolen mittens</a></li>
            
          </details>
          
          </li>
        
          
          
          
          <details  class="">
            <summary class="" hugo-nav="/collection/2023-01-06-investigacion-operativa/"><a href="https://achalmaedison.netlify.app/collection/2023-01-06-investigacion-operativa/">Investigacion operativa</a></summary>
            
              
              <li class="" hugo-nav="/collection/2023-01-06-investigacion-operativa/2023-01-06-unidad-1/"><a href="https://achalmaedison.netlify.app/collection/2023-01-06-investigacion-operativa/2023-01-06-unidad-1/">Unidad 1</a></li>
            
          </details>
          
          </li>
        
          
          
          
          <details open class="active">
            <summary class="active" hugo-nav="/collection/2023-01-07-ciencia-de-datos/"><a href="https://achalmaedison.netlify.app/collection/2023-01-07-ciencia-de-datos/">Ciencia de datos</a></summary>
            
              
              <li class="" hugo-nav="/collection/2023-01-07-ciencia-de-datos/tema-1-ciencia-de-datos-y-la-era-del-big-data/"><a href="https://achalmaedison.netlify.app/collection/2023-01-07-ciencia-de-datos/tema-1-ciencia-de-datos-y-la-era-del-big-data/">Tema 1: Ciencia de datos y la era del Big Data</a></li>
            
              
              <li class="" hugo-nav="/collection/2023-01-07-ciencia-de-datos/tema-2-r-rstudio-y-forma-de-trabajar/"><a href="https://achalmaedison.netlify.app/collection/2023-01-07-ciencia-de-datos/tema-2-r-rstudio-y-forma-de-trabajar/">Tema 2. R, RStudio y forma de trabajar</a></li>
            
              
              <li class="active" hugo-nav="/collection/2023-01-07-ciencia-de-datos/tema-3-iniciaci-n-a-r-base/"><a href="https://achalmaedison.netlify.app/collection/2023-01-07-ciencia-de-datos/tema-3-iniciaci-n-a-r-base/">Tema 3: Iniciación a R-base</a></li>
            
              
              <li class="" hugo-nav="/collection/2023-01-07-ciencia-de-datos/tema-4-importar-y-exportar-datos-con-r/"><a href="https://achalmaedison.netlify.app/collection/2023-01-07-ciencia-de-datos/tema-4-importar-y-exportar-datos-con-r/">Tema 4: Importar (y exportar) datos con R</a></li>
            
              
              <li class="" hugo-nav="/collection/2023-01-07-ciencia-de-datos/tema-5-data-munging-manejo-de-datos-con-r-the-tidyverse-way/"><a href="https://achalmaedison.netlify.app/collection/2023-01-07-ciencia-de-datos/tema-5-data-munging-manejo-de-datos-con-r-the-tidyverse-way/">Tema 5: Data munging: manejo de datos con R, the tidyverse way</a></li>
            
              
              <li class="" hugo-nav="/collection/2023-01-07-ciencia-de-datos/tema-6-visualizaci-n-gr-ficos-con-ggplot2/"><a href="https://achalmaedison.netlify.app/collection/2023-01-07-ciencia-de-datos/tema-6-visualizaci-n-gr-ficos-con-ggplot2/">Tema 6: Visualización: gráficos con ggplot2</a></li>
            
              
              <li class="" hugo-nav="/collection/2023-01-07-ciencia-de-datos/tema-7-documentos-reproducibles-con-rmarkdown/"><a href="https://achalmaedison.netlify.app/collection/2023-01-07-ciencia-de-datos/tema-7-documentos-reproducibles-con-rmarkdown/">Tema 7: Documentos reproducibles con **Rmarkdown**</a></li>
            
              
              <li class="" hugo-nav="/collection/2023-01-07-ciencia-de-datos/tema-8-tablas-en-documentos-rmarkdown/"><a href="https://achalmaedison.netlify.app/collection/2023-01-07-ciencia-de-datos/tema-8-tablas-en-documentos-rmarkdown/">Tema 8: Tablas en documentos Rmarkdown</a></li>
            
              
              <li class="" hugo-nav="/collection/2023-01-07-ciencia-de-datos/prefacio/"><a href="https://achalmaedison.netlify.app/collection/2023-01-07-ciencia-de-datos/prefacio/">Prefacio</a></li>
            
          </details>
          
          </li>
        
        </ul>
    </nav>
  </div>
  <details id="PageTableOfContents">
    <summary><h2 class="mv0 f5 fw7 ttu tracked dib">On this page<h2></summary>
    <div class="pl2 pr0 mh0">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#operaciones-matemáticas-básicas">Operaciones matemáticas básicas</a></li>
    <li><a href="#asignación-creación-de-objetos">Asignación (“creación de objetos”)</a></li>
    <li><a href="#tipos-de-datos">Tipos de datos</a></li>
    <li><a href="#operaciones-con-números">Operaciones con números</a></li>
    <li><a href="#operaciones-con-texto">Operaciones con texto</a></li>
    <li><a href="#operaciones-lógicas">Operaciones lógicas</a></li>
    <li><a href="#funciones">Funciones</a></li>
    <li><a href="#estructuras-de-datos-en-r">Estructuras de datos en R</a></li>
  </ul>

  <ul>
    <li><a href="#atomic-vectors-vsaugmented-vectors">Atomic vectors vs. Augmented vectors</a></li>
    <li><a href="#coerción">Coerción</a></li>
    <li><a href="#propiedades-de-los-vectores">Propiedades de los vectores</a></li>
    <li><a href="#subsetting-con-vectores">Subsetting con vectores</a></li>
    <li><a href="#modificando-elementos-de-un-vector">Modificando elementos de un vector</a></li>
    <li><a href="#creación-de-vectores-mediante-">Creación de vectores mediante …</a></li>
    <li><a href="#operaciones-con-vectores">Operaciones con vectores</a></li>
    <li><a href="#operaciones-de-comparación">Operaciones de comparación</a></li>
    <li><a href="#operaciones-de-conjuntos">Operaciones de conjuntos</a></li>
    <li><a href="#funciones-útiles-con-vectores">Funciones útiles con vectores</a></li>
  </ul>

  <ul>
    <li><a href="#subsetting-con-matrices">Subsetting con matrices</a></li>
    <li><a href="#nombrar-las-filas-y-columnas">Nombrar las filas y columnas</a></li>
    <li><a href="#funciones-para-matrices">Funciones para matrices</a></li>
  </ul>

  <ul>
    <li></li>
  </ul>

  <ul>
    <li><a href="#subsetting-en-listas">Subsetting en listas</a></li>
  </ul>

  <ul>
    <li><a href="#subsetting-en-dataframes">Subsetting en data.frames</a></li>
    <li><a href="#funciones-útiles">Funciones útiles</a></li>
  </ul>

  <ul>
    <li></li>
  </ul>

  <ul>
    <li><a href="#algunas-funciones-útiles">Algunas funciones útiles</a></li>
    <li><a href="#directorio-de-trabajo">Directorio de trabajo</a></li>
    <li><a href="#nas-y-valores-especiales">NA’s y valores especiales</a></li>
    <li><a href="#secuencias-1">Secuencias</a></li>
  </ul>
</nav>
    </div>
  </details>
  
</div>

</aside>

<footer class="site-footer pv4 bt b--transparent ph5" role="contentinfo">
  <nav class="db dt-l w-100">
    <p class="site-copyright f7 db dtc-l v-mid w-100 w-33-l tc tl-l pv2 pv0-l mv0 lh-copy">
      &copy; 2023 Edison Achalma, Ayacucho
      <span class="middot-divider"></span>
      Made with <span xmlns:dct="http://purl.org/dc/terms/" property="dct:title"><a xmlns:dct="http://purl.org/dc/terms/" href="https://github.com/hugo-apero/" rel="dct:source">Hugo Apéro</a></span>.
      <br />
      
Based on <span xmlns:dct="http://purl.org/dc/terms/" property="dct:title"><a xmlns:dct="http://purl.org/dc/terms/" href="https://github.com/formspree/blogophonic-hugo" rel="dct:source">Blogophonic</a></span> by <a xmlns:cc="http://creativecommons.org/ns#" href="https://formspree.io" property="cc:attributionName" rel="cc:attributionURL">Formspree</a>.
    </p>
    
    <div class="site-social-links db dtc-l v-mid w-100 w-33-l tc pv2 pv0-l mv0">
      <div class="social-icon-links" aria-hidden="true">
  
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://github.com/achalmed" title="github" target="_blank" rel="me noopener">
      <i class="fab fa-github fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://www.facebook.com/achalmaedison.23" title="facebook-square" target="_blank" rel="me noopener">
      <i class="fab fa-facebook-square fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://www.instagram.com/achalmaedison/" title="instagram" target="_blank" rel="me noopener">
      <i class="fab fa-instagram fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://twitter.com/achalmaedison" title="twitter" target="_blank" rel="me noopener">
      <i class="fab fa-twitter fa-lg fa-fw"></i>
    </a>
  
    
    
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://orcid.org/0000-0001-6996-3364" title="orcid" target="_blank" rel="me noopener">
      <i class="ai ai-orcid fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://www.youtube.com/@achalmaedison" title="youtube" target="_blank" rel="me noopener">
      <i class="fab fa-youtube fa-lg fa-fw"></i>
    </a>
  
    
    
    
      
    
    
    
    
    
      
    
    <a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href="https://www.linkedin.com/in/achalmaedison/" title="linkedin-in" target="_blank" rel="me noopener">
      <i class="fab fa-linkedin-in fa-lg fa-fw"></i>
    </a>
  
</div>

    </div>
    
    <div class="site-links f6 db dtc-l v-mid w-100 w-67-l tc tr-l pv2 pv0-l mv0">
      
      <a class="dib pv1 ph2 link" href="/license/" title="License">License</a>
      
      <a class="dib pv1 ph2 link" href="/contact/" title="Contact form">Contact</a>
      
      <a class="dib pv1 ph2 link" href="/contributors/" title="Contributors">Contributors</a>
      
    </div>
  </nav>
  
    <script>

    var i, text, code, codes = document.getElementsByTagName('code');
    for (let i = 0; i < codes.length;) {
      code = codes[i];
      if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
        text = code.textContent;
        if (/^\$[^$]/.test(text) && /[^$]\$$/.test(text)) {
          text = text.replace(/^\$/, '\\(').replace(/\$$/, '\\)');
          code.textContent = text;
        }
        if (/^\\\((.|\s)+\\\)$/.test(text) ||
            /^\\\[(.|\s)+\\\]$/.test(text) ||
            /^\$(.|\s)+\$$/.test(text) ||
            /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
          code.outerHTML = code.innerHTML;  
          continue;
        }
      }
      i++;
    }
</script>

  
    
    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.css" integrity="sha384-RZU/ijkSsFbcmivfdRBQDtwuwVqK7GMOw6IMvKyeWL2K5UAlyp6WonmB8m7Jd0Hn" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.js" integrity="sha384-pK1WpvzWVBQiP0/GjnvRxV4mOb0oxFuyRxJlk6vVw146n3egcN5C925NCP7a7BY8" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/contrib/auto-render.min.js" integrity="sha384-vZTG03m+2yp6N6BNi5iM4rW4oIwk5DfcNdFfxkk9ZWpDriOkXX8voJBFrAO7MpVl" crossorigin="anonymous" onload="renderMathInElement(document.body);"></script>



    
  
  
</footer>

      </div>
    </body>
</html>
